try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f847b676-0d2e-4d83-9d07-8abb3ab185c2",e._sentryDebugIdIdentifier="sentry-dbid-f847b676-0d2e-4d83-9d07-8abb3ab185c2")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{4227:(e,n,t)=>{"use strict";t.d(n,{a:()=>a,r:()=>s});var l=t(6029),r=t(49942),o=t(13808);let s={[o.cw.LIFETIME]:"purple",[o.cw.PRO]:"purple",[o.cw.OFFERED]:"orange",[o.cw.STARTER]:"orange",[o.cw.FREE]:"gray",[o.cw.CUSTOM]:"yellow",[o.cw.UNLIMITED]:"yellow",[o.cw.ENTERPRISE]:"yellow"},a=e=>{let{plan:n,...t}=e;switch(n){case o.cw.LIFETIME:return(0,l.jsx)(r.vw,{colorScheme:s[n],"data-testid":"lifetime-plan-tag",...t,children:"Lifetime"});case o.cw.PRO:return(0,l.jsx)(r.vw,{colorScheme:s[n],"data-testid":"pro-plan-tag",...t,children:"Pro"});case o.cw.OFFERED:case o.cw.STARTER:return(0,l.jsx)(r.vw,{colorScheme:s[n],"data-testid":"starter-plan-tag",...t,children:"Starter"});case o.cw.FREE:return(0,l.jsx)(r.vw,{colorScheme:s[o.cw.FREE],"data-testid":"free-plan-tag",...t,children:"Free"});case o.cw.CUSTOM:return(0,l.jsx)(r.vw,{colorScheme:s[o.cw.CUSTOM],"data-testid":"custom-plan-tag",...t,children:"Custom"});case o.cw.UNLIMITED:return(0,l.jsx)(r.vw,{colorScheme:s[o.cw.UNLIMITED],"data-testid":"custom-unlimite-tag",...t,children:"Unlimited"});case o.cw.ENTERPRISE:return(0,l.jsx)(r.vw,{colorScheme:s[o.cw.ENTERPRISE],...t,children:"Enterprise"})}}},5052:(e,n,t)=>{"use strict";t.d(n,{Gn:()=>o,mp:()=>r,nE:()=>a,qC:()=>s});var l=t(57987),[r,o]=(0,l.q)({name:"EditableStylesContext",errorMessage:"useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Editable />\" "}),[s,a]=(0,l.q)({name:"EditableContext",errorMessage:"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"})},18143:(e,n,t)=>{"use strict";t.d(n,{y:()=>a});var l=t(6029),r=t(44444),o=t(49942),s=t(4227);let a=e=>{let{plan:n,...t}=e;return(0,l.jsx)(o.vw,{colorScheme:n?s.r[n]:"gray","data-testid":"".concat(null==n?void 0:n.toLowerCase(),"-lock-tag"),...t,children:(0,l.jsx)(r.c2,{})})}},38831:(e,n,t)=>{"use strict";t.d(n,{l:()=>d});var l=t(92961),r=t(5052),o=t(8749),s=t(64660),a=t(55685),i=t(6029),d=(0,o.R)(function(e,n){let{getPreviewProps:t}=(0,r.nE)(),o=(0,r.Gn)(),d=t(e,n),u=(0,a.cx)("chakra-editable__preview",e.className);return(0,i.jsx)(s.B.span,{...d,__css:{cursor:"text",display:"inline-block",...l.s,...o.preview},className:u})});d.displayName="EditablePreview"},40867:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/typebots/[typebotId]/theme",function(){return t(64894)}])},63015:(e,n,t)=>{"use strict";t.d(n,{F:()=>f});var l=t(24843),r=t(68628),o=t(4124),s=t(47031),a=t(65789),i=t(24615),d=t(55685),u=t(55729);function c(e,n){return!!e&&(e===n||e.contains(n))}var h=t(5052),m=t(8749),b=t(20462),p=t(96529),g=t(64660),x=t(6029),f=(0,m.R)(function(e,n){let t=(0,b.o5)("Editable",e),{htmlProps:m,...f}=function(e={}){let{onChange:n,onCancel:t,onSubmit:h,onBlur:m,value:b,isDisabled:p,defaultValue:g,startWithEditView:x,isPreviewFocusable:f=!0,submitOnBlur:j=!0,selectAllOnFocus:v=!0,placeholder:y,onEdit:C,finalFocusRef:w,...k}=e,T=(0,i.c)(C),E=!!(x&&!p),[B,S]=(0,u.useState)(E),[I,z]=(0,s.i)({defaultValue:g||"",value:b,onChange:n}),[M,D]=(0,u.useState)(I),F=(0,u.useRef)(null),R=(0,u.useRef)(null),V=(0,u.useRef)(null),A=(0,u.useRef)(null),_=(0,u.useRef)(null);(0,l.S)({ref:F,enabled:B,elements:[A,_]});let O=!B&&!p;(0,r.U)(()=>{var e,n;B&&(null==(e=F.current)||e.focus(),v&&(null==(n=F.current)||n.select()))},[]),(0,o.w)(()=>{var e,n,t,l;if(!B)return void(w?null==(e=w.current)||e.focus():null==(n=V.current)||n.focus());null==(t=F.current)||t.focus(),v&&(null==(l=F.current)||l.select()),null==T||T()},[B,T,v]);let N=(0,u.useCallback)(()=>{O&&S(!0)},[O]),P=(0,u.useCallback)(()=>{D(I)},[I]),L=(0,u.useCallback)(()=>{S(!1),z(M),null==t||t(M),null==m||m(M)},[t,m,z,M]),W=(0,u.useCallback)(()=>{S(!1),D(I),null==h||h(I),null==m||m(M)},[I,h,m,M]);(0,u.useEffect)(()=>{if(B)return;let e=F.current;(null==e?void 0:e.ownerDocument.activeElement)===e&&(null==e||e.blur())},[B]);let K=(0,u.useCallback)(e=>{z(e.currentTarget.value)},[z]),G=(0,u.useCallback)(e=>{let n={Escape:L,Enter:e=>{e.shiftKey||e.metaKey||W()}}[e.key];n&&(e.preventDefault(),n(e))},[L,W]),Q=(0,u.useCallback)(e=>{let n={Escape:L}[e.key];n&&(e.preventDefault(),n(e))},[L]),H=0===I.length,J=(0,u.useCallback)(e=>{var n;if(!B)return;let t=e.currentTarget.ownerDocument,l=null!=(n=e.relatedTarget)?n:t.activeElement,r=c(A.current,l),o=c(_.current,l);r||o||(j?W():L())},[j,W,L,B]),q=(0,u.useCallback)((e={},n=null)=>{let t=O&&f?0:void 0;return{...e,ref:(0,a.Px)(n,R),children:H?y:I,hidden:B,"aria-disabled":(0,d.rq)(p),tabIndex:t,onFocus:(0,d.Hj)(e.onFocus,N,P)}},[p,B,O,f,H,N,P,y,I]),U=(0,u.useCallback)((e={},n=null)=>({...e,hidden:!B,placeholder:y,ref:(0,a.Px)(n,F),disabled:p,"aria-disabled":(0,d.rq)(p),value:I,onBlur:(0,d.Hj)(e.onBlur,J),onChange:(0,d.Hj)(e.onChange,K),onKeyDown:(0,d.Hj)(e.onKeyDown,G),onFocus:(0,d.Hj)(e.onFocus,P)}),[p,B,J,K,G,P,y,I]),Y=(0,u.useCallback)((e={},n=null)=>({...e,hidden:!B,placeholder:y,ref:(0,a.Px)(n,F),disabled:p,"aria-disabled":(0,d.rq)(p),value:I,onBlur:(0,d.Hj)(e.onBlur,J),onChange:(0,d.Hj)(e.onChange,K),onKeyDown:(0,d.Hj)(e.onKeyDown,Q),onFocus:(0,d.Hj)(e.onFocus,P)}),[p,B,J,K,Q,P,y,I]),$=(0,u.useCallback)((e={},n=null)=>({"aria-label":"Edit",...e,type:"button",onClick:(0,d.Hj)(e.onClick,N),ref:(0,a.Px)(n,V),disabled:p}),[N,p]),Z=(0,u.useCallback)((e={},n=null)=>({...e,"aria-label":"Submit",ref:(0,a.Px)(_,n),type:"button",onClick:(0,d.Hj)(e.onClick,W),disabled:p}),[W,p]),X=(0,u.useCallback)((e={},n=null)=>({"aria-label":"Cancel",id:"cancel",...e,ref:(0,a.Px)(A,n),type:"button",onClick:(0,d.Hj)(e.onClick,L),disabled:p}),[L,p]);return{isEditing:B,isDisabled:p,isValueEmpty:H,value:I,onEdit:N,onCancel:L,onSubmit:W,getPreviewProps:q,getInputProps:U,getTextareaProps:Y,getEditButtonProps:$,getSubmitButtonProps:Z,getCancelButtonProps:X,htmlProps:k}}((0,p.MN)(e)),{isEditing:j,onSubmit:v,onCancel:y,onEdit:C}=f,w=(0,d.cx)("chakra-editable",e.className),k=(0,d.Jg)(e.children,{isEditing:j,onSubmit:v,onCancel:y,onEdit:C});return(0,x.jsx)(h.qC,{value:f,children:(0,x.jsx)(h.mp,{value:t,children:(0,x.jsx)(g.B.div,{ref:n,...m,className:w,children:k})})})});f.displayName="Editable"},64894:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>eU});var l=t(6029),r=t(98965),o=t(6296),s=t(48874),a=t(98269),i=t(49377),d=t(28144),u=t(90869),c=t(13775),h=t(25093),m=t(44444),b=t(29328),p=t(50456),g=t(40513),x=t(63046),f=t(85678),j=t(4587),v=t(85288),y=t(90944),C=t(69443),w=t(55729),k=t(28562);let T=e=>{let{customCss:n,onCustomCssChange:t}=e;return(0,l.jsx)(k.B,{value:null!=n?n:"",lang:"css",onChange:t,withVariableButton:!1,withLineNumbers:!0})};var E=t(22070),B=t(47827),S=t(59309),I=t(15131),z=t(94581),M=t(12482),D=t(58298);let F=(e,n)=>(0,D.j)(JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(n)));var R=t(22194),V=t(20873),A=t(32263),_=t(67039),O=t(50427),N=t(57470),P=t(7959),L=t(86747),W=t(31445),K=t(26739),G=t(16932);let Q=e=>{let{workspaceId:n,isOpen:t,onClose:r,selectedTemplate:o,theme:s}=e,{t:a}=(0,y.WD)(),[i,u]=(0,w.useState)(!1),c=(0,w.useRef)(null),{mutate:h}=(0,G.n)(S.id.theme.saveThemeTemplate.mutationOptions({onMutate:()=>u(!0),onSettled:()=>u(!1),onSuccess:e=>{let{themeTemplate:n}=e;S.qQ.invalidateQueries({queryKey:S.id.theme.listThemeTemplates.queryKey()}),r(n)},onError:e=>{(0,V.o)({description:e.message})}}));return(0,l.jsxs)(A.aF,{isOpen:t,onClose:r,initialFocusRef:c,children:[(0,l.jsx)(_.m,{}),(0,l.jsxs)(O.$,{as:"form",onSubmit:e=>{var t,l;e.preventDefault();let r=null==(t=c.current)?void 0:t.value;r&&h({name:r,theme:s,workspaceId:n,themeTemplateId:null!=(l=null==o?void 0:o.id)?l:(0,K.sX)()})},children:[(0,l.jsx)(N.r,{children:a("theme.sideMenu.template.myTemplates.saveTheme.title")}),(0,l.jsx)(P.s,{}),(0,l.jsx)(L.c,{children:(0,l.jsx)(R.ks,{ref:c,label:a("theme.sideMenu.template.myTemplates.saveTheme.name"),defaultValue:null==o?void 0:o.name,withVariableButton:!1,placeholder:a("theme.sideMenu.template.myTemplates.saveTheme.myTemplate"),isRequired:!0})}),(0,l.jsxs)(W.j,{as:d.z,children:[(null==o?void 0:o.id)&&(0,l.jsx)(E.$,{isLoading:i,onClick:()=>{var e;let t=null==(e=c.current)?void 0:e.value;t&&h({name:t,theme:s,workspaceId:n,themeTemplateId:(0,K.sX)()})},children:a("theme.sideMenu.template.myTemplates.saveTheme.saveAsNew")}),(0,l.jsx)(E.$,{type:"submit",colorScheme:"orange",isLoading:i,children:a((null==o?void 0:o.id)?"update":"save")})]})]})]})};var H=t(66425),J=t(94283),q=t(79596),U=t(1069),Y=t(58972),$=t(20644),Z=t(15281),X=t(30083),ee=t(5969),en=t(3495);let et=e=>(0,l.jsxs)(en.I,{viewBox:"0 0 156 156",fill:"none",xmlns:"http://www.w3.org/2000/svg",boxSize:"40px",borderRadius:"full","data-testid":"default-avatar",...e,children:[(0,l.jsx)("rect",{width:"156",height:"156",rx:"78",fill:"#1D1D1D"}),(0,l.jsx)("path",{d:"M104.936 49.1111C103.446 45.3515 99.7782 42.6938 95.4875 42.6938H58.0109C52.3972 42.6938 47.8457 47.2454 47.8457 52.859V102.555C47.8457 105.405 49.0182 107.98 50.9075 109.825C52.3996 113.584 56.0699 116.242 60.3606 116.242H97.8373C103.451 116.242 108 111.693 108 106.079V56.3837C108 53.5334 106.828 50.9557 104.936 49.1111ZM99.7759 102.555C99.7759 104.918 97.8514 106.843 95.4875 106.843H58.0109C57.3177 106.843 56.6621 106.678 56.0817 106.382C54.6812 105.677 53.7202 104.225 53.7202 102.555V52.859C53.7202 50.4928 55.6446 48.5683 58.0109 48.5683H95.4875C97.748 48.5683 99.6067 50.3283 99.7641 52.5535C99.7712 52.6546 99.7759 52.7556 99.7759 52.859V102.555Z",fill:"white"}),(0,l.jsx)("path",{d:"M74.1477 54.4219L71.2273 54.9369C70.4362 55.0764 69.908 55.8308 70.0475 56.6219L77.6623 99.8073C77.8017 100.598 78.5561 101.127 79.3472 100.987L82.2676 100.472C83.0587 100.333 83.587 99.5783 83.4475 98.7872L75.8327 55.6018C75.6932 54.8107 74.9388 54.2824 74.1477 54.4219Z",fill:"white"})]}),el=e=>{var n,t,r,o,s,a,c,p,g,x,f,j,v,C,k,T,E,B,I,z,M,D;let{workspaceId:F,themeTemplate:R,isSelected:V,typebotVersion:A,onClick:_,onRenameClick:O,onDeleteSuccess:N}=e,{t:P}=(0,y.WD)(),L=(0,u.dU)(void 0,"1px"),[W,K]=(0,w.useState)(!1),{mutate:Q}=(0,G.n)(S.id.theme.deleteThemeTemplate.mutationOptions({onMutate:()=>K(!0),onSettled:()=>K(!1),onSuccess:()=>{S.qQ.invalidateQueries({queryKey:S.id.theme.listThemeTemplates.queryKey()}),N&&N()}})),X=(null==(n=R.theme.chat)?void 0:n.roundness)==="large"?"md":(null==(t=R.theme.chat)?void 0:t.roundness)==="none"?"none":"sm",en={isEnabled:null!=(B=null==(o=R.theme.chat)||null==(r=o.hostAvatar)?void 0:r.isEnabled)?B:h.yP,url:null==(a=R.theme.chat)||null==(s=a.hostAvatar)?void 0:s.url},et=null!=(I=null==(p=R.theme.chat)||null==(c=p.hostBubbles)?void 0:c.backgroundColor)?I:h.QY[A],el={isEnabled:null!=(z=null==(x=R.theme.chat)||null==(g=x.guestAvatar)?void 0:g.isEnabled)?z:h.MP,url:null==(j=R.theme.chat)||null==(f=j.guestAvatar)?void 0:f.url},es=null!=(M=null==(C=R.theme.chat)||null==(v=C.guestBubbles)?void 0:v.backgroundColor)?M:h.yG[A],ea=null!=(D=null==(T=R.theme.chat)||null==(k=T.buttons)?void 0:k.backgroundColor)?D:h.YY[A];return(0,l.jsxs)(b.B,{borderWidth:L,cursor:"pointer",onClick:_,spacing:0,opacity:W?.5:1,pointerEvents:W?"none":void 0,rounded:"md",boxShadow:V?"".concat(ee.T.orange["400"]," 0 0 0 2px"):"rgba(0, 0, 0, 0.08) 0px 2px 2px",style:{willChange:"box-shadow",transition:"box-shadow 0.2s ease 0s"},children:[(0,l.jsxs)(H.az,{borderTopRadius:"md",backgroundSize:"cover",...er(null==(E=R.theme.general)?void 0:E.background),borderColor:V?"orange.400":void 0,children:[(0,l.jsxs)(d.z,{mt:"4",ml:"4",spacing:.5,alignItems:"flex-end",children:[(0,l.jsx)(eo,{avatar:en}),(0,l.jsx)(H.az,{rounded:"sm",w:"80px",h:"16px",background:et})]}),(0,l.jsxs)(d.z,{mt:"1",mr:"4",ml:"auto",justifyContent:"flex-end",alignItems:"flex-end",children:[(0,l.jsx)(H.az,{rounded:"sm",w:"80px",h:"16px",background:es}),(0,l.jsx)(eo,{avatar:el})]}),(0,l.jsxs)(d.z,{mt:"1",ml:"4",spacing:.5,alignItems:"flex-end",children:[(0,l.jsx)(eo,{avatar:en}),(0,l.jsx)(H.az,{rounded:"sm",w:"80px",h:"16px",background:et})]}),(0,l.jsxs)(i.s,{mt:"1",mb:"4",pr:"4",ml:"auto",w:"full",justifyContent:"flex-end",gap:"1",children:[(0,l.jsx)(H.az,{rounded:X,w:"20px",h:"10px",background:ea}),(0,l.jsx)(H.az,{rounded:X,w:"20px",h:"10px",background:ea}),(0,l.jsx)(H.az,{rounded:X,w:"20px",h:"10px",background:ea})]})]}),(0,l.jsxs)(d.z,{p:"2",justifyContent:"space-between",children:[(0,l.jsx)(J.E,{fontSize:"sm",noOfLines:1,children:R.name}),N&&O&&(0,l.jsxs)(q.W,{isLazy:!0,children:[(0,l.jsx)(U.I,{as:Y.K,icon:(0,l.jsx)(m.jN,{}),"aria-label":P("theme.sideMenu.template.myTemplates.menu.ariaLabel"),variant:"ghost",size:"xs",onClick:e=>e.stopPropagation()}),(0,l.jsxs)($.c,{onClick:e=>e.stopPropagation(),children:[V&&(0,l.jsx)(Z.D,{icon:(0,l.jsx)(m.qU,{}),onClick:O,children:P("rename")}),(0,l.jsx)(Z.D,{icon:(0,l.jsx)(m.uc,{}),color:"red.500",onClick:()=>{Q({themeTemplateId:R.id,workspaceId:F})},children:P("delete")})]})]})]})]})},er=e=>{switch(null==e?void 0:e.type){case void 0:case h.hK.COLOR:var n;return{backgroundColor:null!=(n=null==e?void 0:e.content)?n:h.lG};case h.hK.IMAGE:return{backgroundImage:"url(".concat(e.content,")")};case h.hK.NONE:return}},eo=e=>{let{avatar:n}=e,{t}=(0,y.WD)();return(null==n?void 0:n.isEnabled)?(null==n?void 0:n.url)?(0,l.jsx)(X._,{src:n.url,alt:t("theme.sideMenu.template.gallery.avatarPreview.alt"),boxSize:"12px",rounded:"full"}):(0,l.jsx)(et,{boxSize:"12px"}):null},es=e=>{let{selectedTemplateId:n,currentTheme:t,workspaceId:r,typebotVersion:o,onTemplateSelect:s}=e,{t:a}=(0,y.WD)(),{currentUserMode:i}=(0,B.h)(),{isOpen:d,onOpen:u,onClose:c}=(0,I.j)(),{data:h}=(0,M.I)(S.id.theme.listThemeTemplates.queryOptions({workspaceId:r},{enabled:"guest"!==i})),p=null==h?void 0:h.themeTemplates.find(e=>e.id===n);return(0,l.jsxs)(b.B,{spacing:4,children:[(!p||!F(null==p?void 0:p.theme,t))&&(0,l.jsx)(E.$,{leftIcon:(0,l.jsx)(m.LP,{}),onClick:u,colorScheme:"orange",children:a("theme.sideMenu.template.myTemplates.saveTheme")}),(0,l.jsx)(Q,{workspaceId:r,selectedTemplate:p,isOpen:d,onClose:e=>{e&&s(e),c()},theme:t}),(0,l.jsx)(z.r,{columns:2,spacing:4,children:null==h?void 0:h.themeTemplates.map(e=>(0,l.jsx)(el,{workspaceId:r,themeTemplate:e,typebotVersion:o,isSelected:e.id===n,onClick:()=>s(e),onRenameClick:u,onDeleteSuccess:()=>s({id:""})},e.id))})]})};var ea=t(10548),ei=t(42127);let ed=[{id:"typebot-light",name:"Typebot Light",theme:{},isVisible:e=>Number(e)>=6.1},{id:"typebot-dark",name:"Typebot Dark",theme:{general:{background:{type:h.hK.COLOR,content:ei.T.gray.dark[2]}},chat:{hostBubbles:{backgroundColor:ei.T.gray.dark[1],color:ei.T.gray.dark[12],border:{color:ei.T.gray.dark[4]}},guestBubbles:{backgroundColor:ei.T.gray.dark[4],border:{color:ei.T.gray.dark[6]},color:ei.T.gray.dark[12]},buttons:{backgroundColor:ei.T.orange.dark[9],color:ei.T.gray.dark[12]},inputs:{backgroundColor:ei.T.gray.dark[4],color:ei.T.gray.dark[12],border:{color:ei.T.gray.dark[7]}}}},isVisible:e=>Number(e)>=6.1},{id:"typebot-light-legacy",name:"Typebot Light Legacy",theme:{chat:{hostBubbles:{backgroundColor:h.QY["6"],border:{thickness:0}},guestBubbles:{backgroundColor:h.yG["6"],border:{thickness:0}},buttons:{backgroundColor:h.YY["6"],border:{thickness:0}},inputs:{shadow:h.hB["6"],border:{thickness:0}}},general:{background:{type:h.hK.COLOR,content:h.lG["6"]}}}},{id:"typebot-dark-legacy",name:"Typebot Dark Legacy",theme:{chat:{inputs:{color:"#ffffff",backgroundColor:"#1e293b",placeholderColor:"#9095A0",border:{thickness:0}},hostBubbles:{color:"#ffffff",backgroundColor:"#1e293b",border:{thickness:0}},guestBubbles:{border:{thickness:0}},buttons:{border:{thickness:0}}},general:{background:{type:h.hK.COLOR,content:"#171923"}}}},{id:"minimalist-black",name:"Minimalist Black",theme:{chat:{buttons:{backgroundColor:"#303235"},hostAvatar:{isEnabled:!1},guestBubbles:{color:ei.T.gray.light[12],backgroundColor:ei.T.gray.light[1],border:{color:ei.T.gray.light[6]}}},general:{font:{type:"Google",family:"Inter"}}}},{id:"minimalist-teal",name:"Minimalist Teal",theme:{chat:{buttons:{backgroundColor:"#0d9488"},hostAvatar:{isEnabled:!1},guestBubbles:{color:ei.T.gray.light[12],backgroundColor:ei.T.gray.light[1],border:{color:ei.T.gray.light[6]}}},general:{font:{type:"Google",family:"Inter"}}}},{id:"bright-rain",name:"Bright Rain",theme:{chat:{buttons:{backgroundColor:"#D27A7D"},guestBubbles:{color:"#303235",backgroundColor:"#FDDDBF",border:{color:ei.T.orange.light[5]}}},general:{font:{type:"Google",family:"Montserrat"},background:{type:h.hK.IMAGE,content:window.location.origin+"/images/backgrounds/brightRain.jpeg"}}}},{id:"ray-of-lights",name:"Ray of Lights",theme:{chat:{buttons:{backgroundColor:"#1A2249"},guestBubbles:{backgroundColor:"#1A2249",border:{color:"#1A2249"}}},general:{font:{type:"Google",family:"Raleway"},background:{type:h.hK.IMAGE,content:window.location.origin+"/images/backgrounds/rayOfLights.jpeg"}}}},{id:"aqua-glass",name:"Aqua Glass",theme:{general:{background:{type:h.hK.IMAGE,content:"https://images.unsplash.com/photo-1552083974-186346191183?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w0MjU2MDR8MHwxfHNlYXJjaHw4fHxhYnN0cmFjdHxlbnwwfDB8fHwxNzEzMjg2NDY1fDA&ixlib=rb-4.0.3&q=80&w=1080"}},chat:{container:{maxWidth:"750px",maxHeight:"80%",backgroundColor:"#ffffff",blur:5,opacity:.6,border:{thickness:2,color:"#FFFFFF",roundeness:"large",opacity:.5}}}}},{id:"pi",name:"Pi",theme:{general:{font:{type:"Custom",family:"StratfordEF-Regular",css:'@font-face {\n    font-family: "StratfordEF-Regular";\n    src: url("https://db.onlinewebfonts.com/t/c85eb6186357a8930b49b2ecfa59757a.eot");\n    src: url("https://db.onlinewebfonts.com/t/c85eb6186357a8930b49b2ecfa59757a.eot?#iefix")format("embedded-opentype"),\n    url("https://db.onlinewebfonts.com/t/c85eb6186357a8930b49b2ecfa59757a.woff2")format("woff2"),\n    url("https://db.onlinewebfonts.com/t/c85eb6186357a8930b49b2ecfa59757a.woff")format("woff"),\n    url("https://db.onlinewebfonts.com/t/c85eb6186357a8930b49b2ecfa59757a.ttf")format("truetype"),\n    url("https://db.onlinewebfonts.com/t/c85eb6186357a8930b49b2ecfa59757a.svg#StratfordEF-Regular")format("svg");\n}'},background:{content:"#FAF3EA"}},chat:{hostAvatar:{isEnabled:!1},hostBubbles:{backgroundColor:"transparent",color:"#0E3C26",border:{thickness:0}},guestBubbles:{backgroundColor:"#F5EADB",color:"#0E3C26",border:{thickness:0}},buttons:{backgroundColor:"#058247",color:"#FCFAF7",border:{roundeness:"large",thickness:0}},inputs:{backgroundColor:"#ffffff",color:"#0E3C26",shadow:"none",border:{roundeness:"custom",customRoundeness:30,opacity:1,thickness:0},placeholderColor:"#C1B49F"}},customCss:".typebot-guest-bubble,\n.typebot-host-bubble,\n.typebot-input-container {\n  font-size: 1.375rem;\n}\n\n.typebot-input-container:has(input) {\n  border-radius: 5rem;\n  position: absolute;\n  bottom: 3rem;\n  width: calc(100% - 40px);\n  justify-content: flex-start;\n  background-color: #fff;\n  border: 1px solid #E2D5BF;\n}\n\n.typebot-input-form {\n  max-width: unset\n}\n\n.typebot-input-form > button {\n  border-radius: 5rem;\n  transform: scale(.7);\n}\n\n.bubble-typing,\n.slate-html-container,\n.typebot-host-bubble > figure{\n  padding: 0;\n  margin: 0\n}\n\n.slate-html-container {\n  margin-bottom: .5rem\n}"}}],eu=e=>{let{selectedTemplateId:n,typebotVersion:t,workspaceId:r,onTemplateSelect:o}=e;return(0,l.jsx)(b.B,{spacing:4,children:(0,l.jsx)(z.r,{columns:2,spacing:4,children:ed.filter(e=>!e.isVisible||e.isVisible(t)).map(e=>(0,l.jsx)(el,{workspaceId:r,typebotVersion:t,themeTemplate:e,isSelected:e.id===n,onClick:()=>o(e)},e.id))})})},ec=e=>{let{workspaceId:n,typebotVersion:t,selectedTemplateId:r,currentTheme:o,onTemplateSelect:s}=e,{t:a}=(0,y.WD)(),[i,u]=(0,w.useState)("my-templates");return(0,l.jsxs)(b.B,{spacing:4,children:[(0,l.jsxs)(d.z,{children:[(0,l.jsx)(E.$,{flex:"1",variant:"outline",colorScheme:"my-templates"===i?"orange":"gray",onClick:()=>u("my-templates"),children:a("theme.sideMenu.template.myTemplates")}),(0,l.jsx)(E.$,{flex:"1",variant:"outline",colorScheme:"gallery"===i?"orange":"gray",onClick:()=>u("gallery"),children:a("theme.sideMenu.template.gallery")})]}),(0,l.jsx)(eh,{tab:i,currentTheme:o,workspaceId:n,typebotVersion:t,selectedTemplateId:r,onTemplateSelect:s})]})},eh=e=>{let{tab:n,workspaceId:t,selectedTemplateId:r,typebotVersion:o,currentTheme:s,onTemplateSelect:a}=e;switch(n){case"my-templates":return(0,l.jsx)(es,{onTemplateSelect:a,currentTheme:s,typebotVersion:o,selectedTemplateId:r,workspaceId:t});case"gallery":return(0,l.jsx)(eu,{onTemplateSelect:a,currentTheme:s,typebotVersion:o,selectedTemplateId:r,workspaceId:t})}};var em=t(20749),eb=t(84179),ep=t(43412),eg=t(51536),ex=t(26430),ef=t(46370),ej=t(33218),ev=t(64660),ey=t(8972),eC=t(49224),ew=t(2283);let ek=e=>{var n;let{uploadFileProps:t,title:r,avatarProps:o,isDefaultCheck:s=!1,onAvatarChange:a}=e,{isOpen:u,onOpen:c,onClose:h}=(0,I.j)(),m=o?o.isEnabled:s,p=w.useRef(null);(0,eg.j)({ref:p,handler:h,isEnabled:u});let g=!(null==o?void 0:o.url)||o.url.includes("{{");return(0,l.jsx)(b.B,{borderWidth:1,rounded:"md",p:"4",spacing:4,children:(0,l.jsxs)(i.s,{justifyContent:"space-between",children:[(0,l.jsxs)(d.z,{children:[(0,l.jsx)(f.D,{as:"label",fontSize:"lg",htmlFor:r,mb:"1",children:r}),(0,l.jsx)(ex.d,{isChecked:m,id:r,onChange:()=>a({...o,isEnabled:!m})})]}),m&&(0,l.jsx)(i.s,{ref:p,children:(0,l.jsxs)(ef.A,{isLazy:!0,isOpen:u,children:[(0,l.jsx)(ej.d,{children:g?(0,l.jsx)(H.az,{onClick:c,children:(0,l.jsx)(et,{cursor:"pointer",_hover:{filter:"brightness(.9)"}})}):(0,ew.vl)(null==o?void 0:o.url)?(0,l.jsx)(X._,{onClick:c,src:o.url,alt:"Website image",cursor:"pointer",_hover:{filter:"brightness(.9)"},transition:"filter 200ms",boxSize:"40px"}):(null==o||null==(n=o.url)?void 0:n.startsWith("http"))?(0,l.jsx)(X._,{onClick:c,src:o.url,alt:"Website image",cursor:"pointer",_hover:{filter:"brightness(.9)"},transition:"filter 200ms",rounded:"full",boxSize:"40px",objectFit:"cover"}):(0,l.jsx)(ev.B.span,{fontSize:"40px",lineHeight:"1",onClick:c,cursor:"pointer",_hover:{filter:"brightness(.9)"},transition:"filter 200ms",children:null==o?void 0:o.url})}),(0,l.jsx)(ey.Z,{children:(0,l.jsx)(eC.h,{p:"4",onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),w:"500px",children:(0,l.jsx)(ep.K,{uploadFileProps:t,defaultUrl:null==o?void 0:o.url,imageSize:"thumb",onSubmit:e=>a({isEnabled:m,url:e}),additionalTabs:{emoji:!0,giphy:!0,unsplash:!0,icon:!0}})})})]})})]})})};var eT=t(76593);let eE=e=>{var n,t,l;let{chatContainer:r,generalBackground:o}=e,s=null!=(n=null==r?void 0:r.backgroundColor)?n:h.yO;if((null!=(t=null==r?void 0:r.opacity)?t:h.hv)<=.3||"transparent"===s||(0,ew.Im)(s)){let e=null!=(l=null==o?void 0:o.type)?l:h.at,n=e===h.hK.IMAGE?"#000000":e===h.hK.COLOR&&(0,ew.hj)(null==o?void 0:o.content)?o.content:"#ffffff";return(0,eT.T)(n)}return(0,eT.T)(s)};var eB=t(90833);let eS=e=>{var n,t,r,o,s,a,i;let{theme:u,testId:c,defaultTheme:m,onPlaceholderColorChange:f,onThemeChange:C}=e,{t:w}=(0,y.WD)(),k=null!=(n=null==u?void 0:u.backgroundColor)?n:null==m?void 0:m.backgroundColor,T=null!=(r=null!=(t=null==u?void 0:u.shadow)?t:null==m?void 0:m.shadow)?r:"none";return(0,l.jsxs)(b.B,{spacing:4,"data-testid":c,children:[(0,l.jsxs)(d.z,{justify:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:w("theme.sideMenu.chat.theme.background")}),(0,l.jsxs)(d.z,{children:[(0,l.jsx)(ex.d,{defaultChecked:"transparent"!==k,onChange:()=>C({...u,backgroundColor:"transparent"===k?"#ffffff":"transparent"})}),(0,l.jsx)(eB.s,{isDisabled:"transparent"===k,value:k,onColorChange:e=>C({...u,backgroundColor:e})})]})]}),(0,l.jsxs)(d.z,{justify:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:w("theme.sideMenu.chat.theme.text")}),(0,l.jsx)(eB.s,{value:null!=(o=null==u?void 0:u.color)?o:null==m?void 0:m.color,onColorChange:e=>C({...u,color:e})})]}),f&&(0,l.jsxs)(d.z,{justify:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:w("theme.sideMenu.chat.theme.placeholder")}),(0,l.jsx)(eB.s,{value:u&&"placeholderColor"in u?u.placeholderColor:m&&"placeholderColor"in m?m.placeholderColor:void 0,onColorChange:e=>C({...u,placeholderColor:e})})]}),(0,l.jsxs)(p.n,{allowToggle:!0,children:[(0,l.jsxs)(g.A,{children:[(0,l.jsxs)(x.J,{justifyContent:"space-between",children:["Border",(0,l.jsx)(j.Q,{})]}),(0,l.jsx)(v.v,{children:(0,l.jsx)(eI,{border:null==u?void 0:u.border,defaultBorder:m.border,onBorderChange:e=>C({...u,border:e})})})]}),(0,l.jsxs)(g.A,{children:[(0,l.jsxs)(x.J,{justifyContent:"space-between",children:["Advanced",(0,l.jsx)(j.Q,{})]}),(0,l.jsxs)(v.v,{as:b.B,children:["transparent"!==k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R.Q7,{size:"sm",direction:"row",label:"Opacity:",width:"100px",min:0,max:1,step:.1,defaultValue:null!=(s=null==u?void 0:u.opacity)?s:null==m?void 0:m.opacity,onValueChange:e=>C({...u,opacity:e}),withVariableButton:!1}),(null!=(a=null==u?void 0:u.opacity)?a:null==m?void 0:m.opacity)!==1&&(0,l.jsx)(R.Q7,{size:"sm",direction:"row",label:"Blur:",suffix:"px",width:"100px",min:0,defaultValue:null!=(i=null==u?void 0:u.blur)?i:null==m?void 0:m.blur,onValueChange:e=>C({...u,blur:e}),withVariableButton:!1})]}),(0,l.jsxs)(d.z,{justify:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Shadow:"}),(0,l.jsx)(d.z,{children:(0,l.jsx)(em.Q,{currentItem:T,onItemSelect:e=>C({...u,shadow:e}),items:h.Eo,size:"sm"})})]})]})]})]})]})},eI=e=>{var n,t,r,o,s,a;let{border:i,defaultBorder:u,onBorderChange:c}=e,m=null!=(t=null!=(n=null==i?void 0:i.thickness)?n:null==u?void 0:u.thickness)?t:0;return(0,l.jsxs)(b.B,{children:[(0,l.jsxs)(d.z,{justifyContent:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Roundness:"}),(0,l.jsxs)(d.z,{children:[(0,l.jsx)(em.Q,{currentItem:null!=(r=null==i?void 0:i.roundeness)?r:null==u?void 0:u.roundeness,onItemSelect:e=>{c({...i,roundeness:e})},items:h.cc,placeholder:"md",size:"sm"}),(null!=(o=null==i?void 0:i.roundeness)?o:null==u?void 0:u.roundeness)==="custom"&&(0,l.jsx)(R.Q7,{size:"sm",suffix:"px",width:"60px",min:0,defaultValue:null==i?void 0:i.customRoundeness,onValueChange:e=>{c({...i,customRoundeness:e})},withVariableButton:!1})]})]}),(0,l.jsxs)(d.z,{justifyContent:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Thickness:"}),(0,l.jsx)(R.Q7,{size:"sm",suffix:"px",width:"60px",min:0,defaultValue:m,onValueChange:e=>{c({...i,thickness:e})},withVariableButton:!1})]}),m>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.z,{justifyContent:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Color:"}),(0,l.jsx)(eB.s,{value:null!=(s=null==i?void 0:i.color)?s:null==u?void 0:u.color,onColorChange:e=>{c({...i,color:e})}})]}),(0,l.jsx)(R.Q7,{size:"sm",direction:"row",label:"Opacity:",width:"100px",min:0,max:1,step:.1,defaultValue:null!=(a=null==i?void 0:i.opacity)?a:h.hv,onValueChange:e=>{c({...i,opacity:e})},withVariableButton:!1})]})]})},ez=e=>{var n,t;let{generalBackground:r,container:o,onContainerChange:s}=e,a=(e,n,t)=>s({...o,[e]:"".concat(n).concat(t)}),{value:i,unit:u}=eM(null!=(n=null==o?void 0:o.maxWidth)?n:h.$Q),{value:c,unit:m}=eM(null!=(t=null==o?void 0:o.maxHeight)?t:h.MI);return(0,l.jsxs)(b.B,{children:[(0,l.jsxs)(d.z,{justifyContent:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Max width:"}),(0,l.jsxs)(d.z,{children:[(0,l.jsx)(R.Q7,{size:"sm",width:"100px",defaultValue:i,min:0,step:10,withVariableButton:!1,onValueChange:e=>a("maxWidth",e,u)}),(0,l.jsx)(em.Q,{size:"sm",items:["px","%","vh","vw"],currentItem:u,onItemSelect:e=>a("maxWidth",i,e)})]})]}),(0,l.jsxs)(d.z,{justifyContent:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Max height:"}),(0,l.jsxs)(d.z,{children:[(0,l.jsx)(R.Q7,{size:"sm",width:"100px",defaultValue:c,min:0,step:10,onValueChange:e=>a("maxHeight",e,m),withVariableButton:!1}),(0,l.jsx)(em.Q,{size:"sm",items:["px","%","vh","vw"],currentItem:m,onItemSelect:e=>a("maxHeight",c,e)})]})]}),(0,l.jsx)(eS,{theme:o,defaultTheme:{backgroundColor:h.yO,border:{roundeness:h.Zg},blur:h.J$,opacity:h.hv,color:eE({chatContainer:o,generalBackground:r})?ei.T.gray.light["12"]:ei.T.gray.dark["12"]},onThemeChange:s})]})},eM=e=>{let n=Number.parseFloat(e),t=e.replace(n.toString(),"");return{value:n,unit:t}},eD=e=>{var n,t,r,o;let{workspaceId:s,typebot:a,chatTheme:i,generalBackground:u,onChatThemeChange:c}=e,{t:m}=(0,y.WD)();return(0,l.jsxs)(b.B,{spacing:6,children:[(0,l.jsxs)(b.B,{borderWidth:1,rounded:"md",p:"4",spacing:4,children:[(0,l.jsx)(f.D,{fontSize:"lg",children:"Container"}),(0,l.jsx)(ez,{generalBackground:u,container:null==i?void 0:i.container,onContainerChange:e=>c({...i,container:e})})]}),(0,l.jsx)(ek,{uploadFileProps:{workspaceId:s,typebotId:a.id,fileName:"hostAvatar"},title:m("theme.sideMenu.chat.botAvatar"),avatarProps:null==i?void 0:i.hostAvatar,isDefaultCheck:!0,onAvatarChange:e=>c({...i,hostAvatar:e})}),(0,l.jsx)(ek,{uploadFileProps:{workspaceId:s,typebotId:a.id,fileName:"guestAvatar"},title:m("theme.sideMenu.chat.userAvatar"),avatarProps:null==i?void 0:i.guestAvatar,onAvatarChange:e=>c({...i,guestAvatar:e})}),(0,l.jsxs)(b.B,{borderWidth:1,rounded:"md",p:"4",spacing:4,children:[(0,l.jsx)(f.D,{fontSize:"lg",children:m("theme.sideMenu.chat.botBubbles")}),(0,l.jsx)(eS,{testId:"hostBubblesTheme",theme:null==i?void 0:i.hostBubbles,onThemeChange:e=>c({...i,hostBubbles:e}),defaultTheme:{backgroundColor:h.QY[a.version],color:h.sK,opacity:h.hv,blur:h.J$,border:{thickness:h.qZ[a.version],color:h.zm,roundeness:h.Zg}}})]}),(0,l.jsxs)(b.B,{borderWidth:1,rounded:"md",p:"4",spacing:4,children:[(0,l.jsx)(f.D,{fontSize:"lg",children:m("theme.sideMenu.chat.userBubbles")}),(0,l.jsx)(eS,{testId:"guestBubblesTheme",theme:null==i?void 0:i.guestBubbles,onThemeChange:e=>c({...i,guestBubbles:e}),defaultTheme:{backgroundColor:h.yG[a.version],color:h.Et,opacity:h.hv,blur:h.J$,border:{thickness:h.o5[a.version],color:h.nd,roundeness:h.Zg}}})]}),(0,l.jsxs)(b.B,{borderWidth:1,rounded:"md",p:"4",spacing:4,children:[(0,l.jsx)(f.D,{fontSize:"lg",children:m("theme.sideMenu.chat.buttons")}),(0,l.jsx)(eS,{testId:"buttonsTheme",theme:null==i?void 0:i.buttons,onThemeChange:e=>c({...i,buttons:e}),defaultTheme:{backgroundColor:h.YY[a.version],color:h.cW,opacity:h.hv,blur:h.J$,border:{roundeness:h.Zg,thickness:h.Jq[a.version],color:null!=(r=null==i||null==(n=i.buttons)?void 0:n.backgroundColor)?r:h.YY[a.version]}}})]}),(0,l.jsxs)(b.B,{borderWidth:1,rounded:"md",p:"4",spacing:4,children:[(0,l.jsx)(f.D,{fontSize:"lg",children:m("theme.sideMenu.chat.inputs")}),(0,l.jsx)(eS,{testId:"inputsTheme",theme:null==i?void 0:i.inputs,onThemeChange:e=>c({...i,inputs:e}),onPlaceholderColorChange:e=>c({...i,inputs:{...null==i?void 0:i.inputs,placeholderColor:e}}),defaultTheme:{backgroundColor:h.QO,color:h.o8,placeholderColor:h.Dm,opacity:h.hv,blur:h.J$,border:{thickness:h.Js[a.version],color:h.Af[a.version],roundeness:h.Zg}}})]}),(0,l.jsxs)(b.B,{borderWidth:1,rounded:"md",p:"4",spacing:4,children:[(0,l.jsx)(f.D,{fontSize:"lg",children:"Buttons input"}),(0,l.jsxs)(d.z,{justify:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Layout:"}),(0,l.jsx)(d.z,{children:(0,l.jsx)(em.Q,{currentItem:null!=(o=null==i||null==(t=i.buttonsInput)?void 0:t.layout)?o:h.B7,onItemSelect:e=>c({...i,buttonsInput:{layout:e}}),items:["wrap","vertical"],size:"sm"})})]})]})]})};var eF=t(92812),eR=t(996),eV=t(18143),eA=t(90218),e_=t(13808);let eO=e=>{var n,t,r;let{background:o,onBackgroundContentChange:s}=e,{isOpen:d,onClose:u,onOpen:c}=(0,I.j)(),{t:m}=(0,y.WD)(),{typebot:b}=(0,a.V)(),p=e=>s(e),g=w.useRef(null);return((0,eg.j)({ref:g,handler:u,isEnabled:d}),(null!=(n=null==o?void 0:o.type)?n:h.at)===h.hK.IMAGE)?b?(0,l.jsx)(i.s,{ref:g,children:(0,l.jsxs)(ef.A,{isLazy:!0,isOpen:d,placement:"top",children:[(0,l.jsx)(ej.d,{children:(0,ew.hj)(null==o?void 0:o.content)?(0,l.jsx)(X._,{src:null==o?void 0:o.content,alt:m("theme.sideMenu.global.background.image.alt"),onClick:c,cursor:"pointer",_hover:{filter:"brightness(.9)"},transition:"filter 200ms",rounded:"md",w:"full",maxH:"200px",objectFit:"cover"}):(0,l.jsx)(E.$,{onClick:c,w:"full",children:m("theme.sideMenu.global.background.image.button")})}),(0,l.jsx)(ey.Z,{children:(0,l.jsx)(eC.h,{p:"4",w:"500px",onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:(0,l.jsx)(ep.K,{uploadFileProps:{workspaceId:b.workspaceId,typebotId:b.id,fileName:"background"},defaultUrl:null==o?void 0:o.content,onSubmit:p,additionalTabs:{unsplash:!0}})})})]})}):null:b&&(null!=(t=null==o?void 0:o.type)?t:h.at)===h.hK.COLOR?(0,l.jsxs)(i.s,{justify:"space-between",align:"center",children:[(0,l.jsx)(J.E,{children:m("theme.sideMenu.global.background.color")}),(0,l.jsx)(eB.s,{value:null!=(r=null==o?void 0:o.content)?r:h.lG[b.version],onColorChange:p})]}):null},eN=e=>{var n;let{background:t,onBackgroundChange:r}=e,{t:o}=(0,y.WD)();return(0,l.jsxs)(b.B,{spacing:4,children:[(0,l.jsx)(eF.h,{options:[{label:o("theme.sideMenu.global.background.color.select"),value:h.hK.COLOR},{label:o("theme.sideMenu.global.background.image.select"),value:h.hK.IMAGE},{label:o("theme.sideMenu.global.background.none.select"),value:h.hK.NONE}],value:null!=(n=null==t?void 0:t.type)?n:h.at,onSelect:e=>r({...t,type:e,content:void 0})}),(0,l.jsx)(eO,{background:t,onBackgroundContentChange:e=>r({...t,content:e})})]})},eP=e=>{let{font:n,onFontChange:t}=e;return(0,l.jsxs)(b.B,{children:[(0,l.jsx)(R.ks,{direction:"row",label:"Family:",placeholder:'MyAwesomeWebFont, "Helvetica Neue", sans-serif',defaultValue:n.family,onChange:e=>t({...n,family:e}),withVariableButton:!1}),(0,l.jsx)(k.B,{onChange:e=>t({...n,css:e}),defaultValue:n.css,lang:"css",placeholder:"@font-face {\n  font-family: 'MyAwesomeWebFont';\n  src: url('https://example.com/webfont.woff') format('woff'),\n    url('https://example.com/webfont.ttf') format('truetype');\n}",maxHeight:"200px"})]})};var eL=t(9804);let eW=e=>{var n;let{font:t,onFontChange:r}=e,[o,s]=(0,w.useState)(null!=(n="string"==typeof t?t:null==t?void 0:t.family)?n:h.Vb),[a,i]=(0,w.useState)([]);(0,w.useEffect)(()=>{d().then(i)},[]);let d=async()=>{if(!ea._.NEXT_PUBLIC_GOOGLE_FONTS_API_KEY)return[];try{let e=await fetch("https://www.googleapis.com/webfonts/v1/webfonts?key=".concat(ea._.NEXT_PUBLIC_GOOGLE_FONTS_API_KEY,"&sort=popularity"));return(await e.json()).items.map(e=>e.family)}catch(e){return console.error("Failed to fetch Google Fonts:",e),[]}};return(0,l.jsx)(eL.l,{selectedItem:o,items:a,onSelect:e=>{e!==o&&e&&(s(e),r({type:"Google",family:e}))}})},eK=e=>{let{font:n,onFontChange:t}=e;return n&&"string"!=typeof n&&(null==n?void 0:n.type)!=="Google"?"Custom"===n.type?(0,l.jsx)(eP,{font:n,onFontChange:t}):null:(0,l.jsx)(eW,{font:n,onFontChange:t})};var eG=t(90184);let eQ=e=>{var n,t,r,o,s,a;let{typebotVersion:i,progressBar:u,onProgressBarChange:c}=e;return(0,l.jsxs)(eG.J,{label:"Enable progress bar",initialValue:null!=(n=null==u?void 0:u.isEnabled)?n:h.ZV,onCheckChange:e=>c({...u,isEnabled:e}),children:[(0,l.jsx)(em.Q,{size:"sm",direction:"row",label:"Placement:",currentItem:null!=(t=null==u?void 0:u.placement)?t:h.Z8,onItemSelect:e=>c({...u,placement:e}),items:h.dl}),(0,l.jsxs)(d.z,{justifyContent:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Background color:"}),(0,l.jsx)(eB.s,{defaultValue:null!=(r=null==u?void 0:u.backgroundColor)?r:h.dC[i],onColorChange:e=>c({...u,backgroundColor:e})})]}),(0,l.jsxs)(d.z,{justifyContent:"space-between",children:[(0,l.jsx)(eb.l,{mb:"0",mr:"0",children:"Color:"}),(0,l.jsx)(eB.s,{defaultValue:null!=(o=null==u?void 0:u.color)?o:h.Ru[i],onColorChange:e=>c({...u,color:e})})]}),(0,l.jsx)(R.Q7,{label:"Thickness:",direction:"row",withVariableButton:!1,maxW:"100px",defaultValue:null!=(s=null==u?void 0:u.thickness)?s:h.mY,onValueChange:e=>c({...u,thickness:e}),size:"sm"}),(0,l.jsx)(em.Q,{size:"sm",direction:"row",label:"Position when embedded:",moreInfoTooltip:'Select "fixed" to always position the progress bar at the top of the window even though your bot is embedded. Select "absolute" to position the progress bar at the top of the chat container.',currentItem:null!=(a=null==u?void 0:u.position)?a:h.jJ,onItemSelect:e=>c({...u,position:e}),items:h.T$})]})},eH=e=>{var n,t;let{isBrandingEnabled:r,generalTheme:o,onGeneralThemeChange:s,onBrandingChange:d}=e,{t:u}=(0,y.WD)(),{isOpen:c,onOpen:m,onClose:f}=(0,I.j)(),{workspace:C}=(0,B.h)(),{typebot:w}=(0,a.V)(),k=(0,eA._)(C),{mutate:T}=(0,G.n)(S.id.telemetry.trackClientEvents.mutationOptions()),E=null!=(t="string"==typeof(null==o?void 0:o.font)?"Google":null==o||null==(n=o.font)?void 0:n.type)?t:h.vq;return(0,l.jsxs)(b.B,{spacing:6,children:[(0,l.jsx)(eR.L,{isOpen:c,onClose:f,type:u("billing.limitMessage.brand")}),(0,l.jsxs)(i.s,{justifyContent:"space-between",align:"center",onClick:k?m:void 0,children:[(0,l.jsxs)(eb.l,{htmlFor:"branding",mb:"0",cursor:"pointer",children:[u("theme.sideMenu.global.typebotBrand")," ",k&&(0,l.jsx)(eV.y,{plan:e_.cw.STARTER})]}),(0,l.jsx)(ex.d,{id:"branding",isChecked:r,onChange:()=>{r&&k||(ea._.NEXT_PUBLIC_POSTHOG_KEY&&w&&C&&r&&T({events:[{name:"Branding removed",typebotId:w.id,workspaceId:C.id}]}),d(!r))}})]}),(0,l.jsxs)(p.n,{allowToggle:!0,children:[(0,l.jsxs)(g.A,{children:[(0,l.jsxs)(x.J,{justifyContent:"space-between",children:["Progress Bar",(0,l.jsx)(j.Q,{})]}),(0,l.jsx)(v.v,{children:w&&(0,l.jsx)(eQ,{progressBar:null==o?void 0:o.progressBar,onProgressBarChange:e=>s({...o,progressBar:e}),typebotVersion:w.version})})]}),(0,l.jsxs)(g.A,{children:[(0,l.jsxs)(x.J,{justifyContent:"space-between",children:[u("theme.sideMenu.global.font"),(0,l.jsx)(j.Q,{})]}),(0,l.jsxs)(v.v,{as:b.B,children:[(0,l.jsx)(eF.h,{options:h.J4,defaultValue:E,onSelect:e=>{s({...o,font:"string"==typeof(null==o?void 0:o.font)?{type:e}:{...null==o?void 0:o.font,type:e}})}}),(0,l.jsx)(eK,{font:null==o?void 0:o.font,onFontChange:e=>s({...o,font:e})})]})]}),(0,l.jsxs)(g.A,{children:[(0,l.jsxs)(x.J,{justifyContent:"space-between",children:[u("theme.sideMenu.global.background"),(0,l.jsx)(j.Q,{})]}),(0,l.jsx)(v.v,{children:(0,l.jsx)(eN,{background:null==o?void 0:o.background,onBackgroundChange:e=>s({...o,background:e})})})]})]})]})},eJ=()=>{var e,n,t,r;let{t:o}=(0,y.WD)(),{typebot:s,updateTypebot:i,currentUserMode:c}=(0,a.V)(),h=null!=(t=null==s?void 0:s.selectedThemeTemplateId)?t:void 0;return(0,l.jsx)(b.B,{flex:"1",maxW:"400px",h:"calc(100% - 2rem)",borderWidth:1,ml:4,overflowY:"auto",pb:"20",position:"relative",rounded:"xl",bg:(0,u.dU)("white","gray.900"),children:(0,l.jsxs)(p.n,{allowToggle:!0,borderBottomWidth:0,children:["write"===c&&(0,l.jsxs)(g.A,{borderTopWidth:0,children:[(0,l.jsxs)(x.J,{py:4,children:[(0,l.jsxs)(d.z,{flex:"1",pl:2,spacing:3,children:[(0,l.jsx)(m.Kb,{}),(0,l.jsx)(f.D,{fontSize:"md",children:o("theme.sideMenu.template")})]}),(0,l.jsx)(j.Q,{})]}),(0,l.jsx)(v.v,{children:s&&(0,l.jsx)(ec,{selectedTemplateId:h,typebotVersion:s.version,currentTheme:s.theme,workspaceId:s.workspaceId,onTemplateSelect:e=>{if(!s)return;let{theme:n,id:t}=e;i({updates:{selectedThemeTemplateId:t,theme:n?{...n}:s.theme}})}})})]}),(0,l.jsxs)(g.A,{children:[(0,l.jsxs)(x.J,{py:4,children:[(0,l.jsxs)(d.z,{flex:"1",pl:2,spacing:3,children:[(0,l.jsx)(m.oX,{}),(0,l.jsx)(f.D,{fontSize:"md",children:o("theme.sideMenu.global")})]}),(0,l.jsx)(j.Q,{})]}),(0,l.jsx)(v.v,{pb:4,children:s&&(0,l.jsx)(eH,{isBrandingEnabled:null!=(r=null==(e=s.settings.general)?void 0:e.isBrandingEnabled)?r:C.L6.general.isBrandingEnabled,generalTheme:s.theme.general,onGeneralThemeChange:e=>s&&i({updates:{theme:{...s.theme,general:e}}}),onBrandingChange:e=>s&&i({updates:{settings:{...s.settings,general:{isBrandingEnabled:e}}}})},h)})]}),(0,l.jsxs)(g.A,{children:[(0,l.jsxs)(x.J,{py:4,children:[(0,l.jsxs)(d.z,{flex:"1",pl:2,spacing:3,children:[(0,l.jsx)(m.oy,{}),(0,l.jsx)(f.D,{fontSize:"md",children:o("theme.sideMenu.chat")})]}),(0,l.jsx)(j.Q,{})]}),(0,l.jsx)(v.v,{pb:4,children:s&&(0,l.jsx)(eD,{workspaceId:s.workspaceId,typebot:s,chatTheme:s.theme.chat,generalBackground:null==(n=s.theme.general)?void 0:n.background,onChatThemeChange:e=>s&&i({updates:{theme:{...s.theme,chat:e}}})},h)})]}),(0,l.jsxs)(g.A,{_last:{borderBottomWidth:0},children:[(0,l.jsxs)(x.J,{py:4,children:[(0,l.jsxs)(d.z,{flex:"1",pl:2,spacing:3,children:[(0,l.jsx)(m.lo,{}),(0,l.jsx)(f.D,{fontSize:"md",children:o("theme.sideMenu.customCSS")})]}),(0,l.jsx)(j.Q,{})]}),(0,l.jsx)(v.v,{pb:4,children:s&&(0,l.jsx)(T,{customCss:s.theme.customCss,onCustomCssChange:e=>s&&i({updates:{theme:{...s.theme,customCss:e}}})},h)})]})]})})},eq=()=>{var e,n,t;let{typebot:m}=(0,a.V)();return(0,l.jsxs)(i.s,{overflow:"hidden",h:"100vh",flexDir:"column",children:[(0,l.jsx)(r.G,{title:(null==m?void 0:m.name)?"".concat(m.name," | Theme"):"Theme"}),(0,l.jsx)(o.R,{}),(0,l.jsxs)(d.z,{w:"full",height:"calc(100vh - ".concat(s.$,"px)"),spacing:4,children:[(0,l.jsx)(eJ,{}),(0,l.jsx)(i.s,{flex:"1",bg:(0,u.dU)("white","gray.900"),height:"calc(100% - 2rem)",w:"full",borderWidth:1,rounded:"xl",mr:4,children:m&&(0,l.jsx)(c.am,{typebot:m,style:{borderRadius:"0.75rem",width:"100%",height:"100%",backgroundColor:null!=(t=null==(n=m.theme.general)||null==(e=n.background)?void 0:e.content)?t:h.lG[m.version]}})})]})]})};function eU(){return(0,l.jsx)(eq,{})}},76593:(e,n,t)=>{"use strict";t.d(n,{T:()=>r});let l=e=>{var n,t,l;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,n,t,l)=>n+n+t+t+l+l);let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?[Number.parseInt(null!=(n=r[1])?n:"",16),Number.parseInt(null!=(t=r[2])?t:"",16),Number.parseInt(null!=(l=r[3])?l:"",16)]:[0,0,0]},r=e=>(e=>{let[n,t,l]=e;return(299*n+587*t+114*l)/1e3>155})(l(e))},78334:(e,n,t)=>{"use strict";t.d(n,{j:()=>d});var l=t(92961),r=t(5052),o=t(8749),s=t(64660),a=t(55685),i=t(6029),d=(0,o.R)(function(e,n){let{getInputProps:t}=(0,r.nE)(),o=(0,r.Gn)(),d=t(e,n),u=(0,a.cx)("chakra-editable__input",e.className);return(0,i.jsx)(s.B.input,{...d,__css:{outline:0,...l.s,...o.input},className:u})});d.displayName="EditableInput"},92812:(e,n,t)=>{"use strict";t.d(n,{h:()=>u});var l=t(6029),r=t(12525),o=t(29328),s=t(58671),a=t(66425),i=t(49377),d=t(90869);let u=e=>{let{options:n,value:t,defaultValue:s,direction:a="row",size:i="md",onSelect:d}=e,{getRootProps:u,getRadioProps:b}=(0,r.m)({value:t,defaultValue:s,onChange:d}),p=u();return(0,l.jsx)(o.B,{...p,direction:a,children:n.map(e=>{let n=b({value:h(e)});return(0,l.jsx)(c,{...n,size:i,children:m(e)},h(e))})})},c=e=>{let{getInputProps:n,getCheckboxProps:t}=(0,s.z)(e),r=n(),o=t();return(0,l.jsxs)(a.az,{as:"label",flex:"1",children:[(0,l.jsx)("input",{...r}),(0,l.jsx)(i.s,{...o,cursor:"pointer",borderWidth:"2px",borderRadius:"md",_checked:{borderColor:"orange.400"},_hover:{bgColor:(0,d.dU)("gray.100","gray.700")},_active:{bgColor:(0,d.dU)("gray.200","gray.600")},px:"sm"===e.size?3:5,py:"sm"===e.size?1:2,transition:"background-color 150ms, color 150ms, border 150ms",justifyContent:"center",fontSize:"sm"===e.size?"sm":void 0,children:e.children})]})},h=e=>"string"==typeof e?e:e.value,m=e=>"string"==typeof e?e:e.label},92961:(e,n,t)=>{"use strict";t.d(n,{s:()=>l});var l={fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent"}}},e=>{var n=n=>e(e.s=n);e.O(0,[7708,7431,8671,3284,4852,1644,636,6593,8792],()=>n(40867)),_N_E=e.O()}]);