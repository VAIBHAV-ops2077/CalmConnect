try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="031fc50d-dc58-47e7-a470-68e72a945e81",e._sentryDebugIdIdentifier="sentry-dbid-031fc50d-dc58-47e7-a470-68e72a945e81")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9042],{39042:(e,t,l)=>{l.r(t),l.d(t,{default:()=>tf});var n=l(6029),r=l(98965),i=l(996),s=l(98269),o=l(84111),a=l(97894),d=l(59309),u=l(15131),c=l(49377),p=l(90869),x=l(53295),h=l(12482),g=l(90944),m=l(2283),b=l(55729),f=l(55800),j=l(1293);let v=e=>"virtual-".concat(e.groupId).concat(e.blockId?"-".concat(e.blockId):""),y=(e,t)=>{var l,n;let{edges:r}=t;return e.startsWith("virtual-")?I(e):null!=(n=null==(l=r.find(t=>t.id===e))?void 0:l.to)?n:null},I=e=>{let[t,l]=e.split("-").slice(1);return{groupId:t,blockId:l}},w=(e,t)=>t?e.slice(e.findIndex(e=>e.id===t)):e,S=e=>{var t;if(!(0,f.mr)(e))return[];let l=[];for(let n of null!=(t=e.items)?t:[])n.outgoingEdgeId&&l.push(n.outgoingEdgeId);return l},k=e=>{var t;return e.type===j.G.JUMP&&(0,m.O9)(null==(t=e.options)?void 0:t.groupId)},C=(e,t)=>{var l,n;let{edges:r,groups:i,offDefaultPathEdgeWithTotalVisits:s}=t,o=null!=(n=r.find(t=>t.id===e))?n:s.find(t=>t.id===e);if(!o)throw Error("Edge not found while debugging edge");let a="[";if("from"in o){"eventId"in o.from&&(a+="Start");let e=i.flatMap(e=>e.blocks).find(e=>e.id===o.from.blockId);e&&(a+=null==e?void 0:e.type)}let d=i.find(e=>e.id===o.to.groupId);if(!d)throw Error("Group not found while debugging edge");if(a+=" -> "+(null==d?void 0:d.title),null==(l=o.to)?void 0:l.blockId){let e=d.blocks.find(e=>e.id===o.to.blockId);e&&(a+=" > "+(null==e?void 0:e.type))}return a+"]"},T=(e,t)=>!!e.has(t)||(e.add(t),!1);var R=l(94581),E=l(60465),z=l(84278),O=l(95758),D=l(81251),B=l(20749);let L=["today","last7Days","last30Days","monthToDate","lastMonth","yearToDate","allTime"],M={today:"Today",last7Days:"Last 7 days",last30Days:"Last 30 days",monthToDate:"Month to date",lastMonth:"Last month",yearToDate:"Year to date",allTime:"All time"},A="last7Days",F=e=>{let{timeFilter:t,onTimeFilterChange:l,...r}=e;return(0,n.jsx)(B.Q,{items:Object.entries(M).map(e=>{let[t,l]=e;return{label:l,value:t}}),currentItem:t,onItemSelect:e=>l(e),...r})},V=e=>(t,l)=>0===l?e:"".concat(Math.round(t/l*100),"%"),P=e=>{let{stats:t,timeFilter:l,onTimeFilterChange:r,...i}=e,{t:s}=(0,g.WD)(),o=(0,p.dU)("white","gray.950");return(0,n.jsxs)(R.r,{columns:{base:1,md:4},spacing:"6",alignItems:"center",...i,children:[(0,n.jsxs)(E.r,{bgColor:o,p:"4",rounded:"md",boxShadow:"md",children:[(0,n.jsx)(z.v,{children:s("analytics.viewsLabel")}),t?(0,n.jsx)(O.k,{children:t.totalViews}):(0,n.jsx)(D.E,{w:"50%",h:"10px",mt:"2"})]}),(0,n.jsxs)(E.r,{bgColor:o,p:"4",rounded:"md",boxShadow:"md",children:[(0,n.jsx)(z.v,{children:s("analytics.startsLabel")}),t?(0,n.jsx)(O.k,{children:t.totalStarts}):(0,n.jsx)(D.E,{w:"50%",h:"10px",mt:"2"})]}),(0,n.jsxs)(E.r,{bgColor:o,p:"4",rounded:"md",boxShadow:"md",children:[(0,n.jsx)(z.v,{children:s("analytics.completionRateLabel")}),t?(0,n.jsx)(O.k,{children:V(s("analytics.notAvailableLabel"))(t.totalCompleted,t.totalStarts)}):(0,n.jsx)(D.E,{w:"50%",h:"10px",mt:"2"})]}),(0,n.jsx)(F,{timeFilter:l,onTimeFilterChange:r,backgroundColor:o,boxShadow:"md"})]})},W=Intl.DateTimeFormat().resolvedOptions().timeZone,U=e=>{let{timeFilter:t,onTimeFilterChange:l,stats:r}=e,{t:j}=(0,g.WD)(),{isOpen:I,onOpen:R,onClose:E}=(0,u.j)(),{typebot:z,publishedTypebot:O}=(0,s.V)(),{data:D}=(0,h.I)(d.id.analytics.getInDepthAnalyticsData.queryOptions({typebotId:z.id,timeFilter:t,timeZone:W},{enabled:(0,m.O9)(null==z?void 0:z.id)&&(0,m.O9)(O)})),B=(0,b.useMemo)(()=>{if(!(null==O?void 0:O.edges)||!O.groups||!O.events||!(null==D?void 0:D.totalAnswers)||!(null==r?void 0:r.totalViews))return;let e=O.events[0].outgoingEdgeId;if(e)return function(e){let{initialEdge:t,offDefaultPathEdgeWithTotalVisits:l,edges:n,groups:r,totalAnswers:i,logger:s}=e,o=new Map(n.map(e=>[e.id,e])),a=new Map(r.map(e=>[e.id,e])),d=new Map(i.map(e=>[e.blockId,e.total])),u=new Set(l.map(e=>e.id)),c=new Map(l.map(e=>[e.id,e.total])),p=new Set,x=[{usersRemaining:t.total,edgeId:t.id,isOffDefaultPath:!1}];for(;x.length;)!function(e,t){var i,x;let{usersRemaining:g,edgeId:m,isOffDefaultPath:b}=e,{depth:j}=t;if(g<=0||b&&T(p,m))return;u.has(m)||c.set(m,(null!=(i=c.get(m))?i:0)+g),null==s||s("▶︎ visiting ".concat(C(m,{edges:n,groups:r,offDefaultPathEdgeWithTotalVisits:l})),{usersRemaining:g,depth:j});let y=o.get(m);if(!(null==y?void 0:y.to))return;let I=a.get(y.to.groupId);if(!I)return;let R=g;for(let e of w(I.blocks,y.to.blockId)){for(let t of((0,f.Ke)(e)&&(R=null!=(x=d.get(e.id))?x:0,d.delete(e.id)),S(e))){let e=c.get(t);e&&e>0&&(h({edgeId:t,usersRemaining:e,isOffDefaultPath:!0}),R-=e)}if(k(e)){let t=v(e.options),l=c.get(t);l&&l>0&&h({edgeId:t,usersRemaining:l,isOffDefaultPath:!0})}e.outgoingEdgeId&&h({edgeId:e.outgoingEdgeId,usersRemaining:R,isOffDefaultPath:!1})}}(x.pop(),{depth:x.length});return[...c.entries()].map(e=>{let[t,l]=e;return{id:t,total:l,to:y(t,{edges:n})}});function h(e){let{edgeId:t,usersRemaining:l,isOffDefaultPath:n}=e;l<=0||x.push({edgeId:t,usersRemaining:l,isOffDefaultPath:n})}}({initialEdge:{id:e,total:r.totalViews},offDefaultPathEdgeWithTotalVisits:D.offDefaultPathVisitedEdges,edges:O.edges,groups:O.groups,totalAnswers:D.totalAnswers})},[null==D?void 0:D.offDefaultPathVisitedEdges,null==D?void 0:D.totalAnswers,null==O?void 0:O.edges,null==O?void 0:O.groups,null==O?void 0:O.events,null==r?void 0:r.totalViews]);return(0,n.jsxs)(c.s,{w:"full",pos:"relative",overflow:"clip",bgColor:(0,p.dU)("#f4f5f8","gray.900"),backgroundImage:(0,p.dU)("radial-gradient(#c6d0e1 1px, transparent 0)","radial-gradient(#2f2f39 1px, transparent 0)"),backgroundSize:"40px 40px",backgroundPosition:"-19px -19px",h:"full",justifyContent:"center",children:[O&&r?(0,n.jsx)(a.i,{isReadOnly:!0,isAnalytics:!0,children:(0,n.jsx)(o.T,{flex:"1",typebot:O,onUnlockProPlanClick:R,totalAnswers:null==D?void 0:D.totalAnswers,edgesWithTotalUsers:B})}):(0,n.jsx)(c.s,{justify:"center",align:"center",boxSize:"full",bgColor:"rgba(255, 255, 255, 0.5)",children:(0,n.jsx)(x.y,{color:"gray"})}),(0,n.jsx)(i.L,{onClose:E,isOpen:I,type:j("billing.limitMessage.analytics"),excludedPlans:["STARTER"]}),(0,n.jsx)(P,{stats:r,pos:"absolute",top:"1rem",timeFilter:t,onTimeFilterChange:l})]})};var H=l(6296),$=l(47827),K=l(28144),N=l(22070),_=l(94283),q=l(49942),Q=l(82203),G=l.n(Q),Y=l(81278),Z=l(37016),J=l(20873),X=l(11390);let ee=(e,t)=>e?Array.isArray(e)?{plainText:e.join(", ")}:t===X.iQ.FILE?{plainText:e}:{plainText:e.toString()}:{plainText:""},et=e=>{let{results:t,headerCells:l,cellParser:n=ee,blockIdVariableIdMap:r}=e;return(null!=t?t:[]).map(e=>({id:{plainText:e.id},date:{plainText:el(e.createdAt)},...[...e.answers,...e.variables].reduce((e,t)=>{var i;if("blockId"in t){let i=r[t.blockId],s=i?l.find(e=>{var t;return null==(t=e.variableIds)?void 0:t.includes(i)}):l.find(e=>{var l;return null==(l=e.blocks)?void 0:l.some(e=>e.id===t.blockId)});return s&&s.blocks&&s.blockType?{...e,[s.id]:n(t.content,s.blockType)}:e}if(null===t.value)return e;let s=null==(i=l.find(e=>{var l;return null==(l=e.variableIds)?void 0:l.includes(t.id)}))?void 0:i.id;return!s||(0,m.O9)(e[s])?e:{...e,[s]:n(t.value)}},{})}))},el=e=>{let t=new Date().getFullYear()===e.getFullYear(),l=e.toLocaleDateString("default",{month:"short",day:"numeric",year:t?void 0:"numeric"}),n=e.toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit"});return"".concat(l,", ").concat(n)},en=e=>{if(!e)return{};let t={};return e.forEach(e=>{e.blocks.forEach(e=>{var l;(0,f.Ke)(e)&&(null==(l=e.options)?void 0:l.variableId)&&(t[e.id]=e.options.variableId)})}),t},er=(e,t,l)=>{let n=[...e.groups,...(null!=t?t:[]).flatMap(e=>e.groups)],r=[...e.variables,...(null!=t?t:[]).flatMap(e=>e.variables)],i=ei({groups:n,variables:r});return[{label:"Submitted at",id:"date"},...i,...es(r,i),...eo({results:null!=l?l:[],existingInputResultHeaders:i,groups:n})]},ei=e=>{let{groups:t,variables:l}=e;return t.flatMap(e=>e.blocks.map(t=>({...t,groupTitle:e.title,groupId:e.id}))).filter(e=>(0,f.Ke)(e)).reduce((e,t)=>{var n,r,i,s,o,a;if(e.some(e=>{var l,n;return(null==(l=t.options)?void 0:l.variableId)&&(null==(n=e.variableIds)?void 0:n.includes(t.options.variableId))}))return e;let d=(null==(n=t.options)?void 0:n.variableId)&&(null==(r=l.find((0,m.$H)(t.options.variableId)))?void 0:r.name),u=null!=d?d:t.groupTitle,c=e.find(e=>e.label===u);if(c){if(null==(s=c.blocks)?void 0:s.some(e=>e.id===t.id)){let l={...c,variableIds:c.variableIds&&(null==(a=t.options)?void 0:a.variableId)?c.variableIds.concat([t.options.variableId]):void 0,blocks:c.blocks.concat({id:t.id,groupId:t.groupId})};return[...e.filter(e=>e.label!==u),l]}let l=e.filter(e=>e.label.includes(u)).length;return[...e,{id:t.id,label:u+" (".concat(l,")"),blocks:[{id:t.id,groupId:t.groupId}],blockType:t.type,variableIds:(null==(o=t.options)?void 0:o.variableId)?[t.options.variableId]:void 0}]}return[...e,{id:t.id,label:u,blocks:[{id:t.id,groupId:t.groupId}],blockType:t.type,variableIds:(null==(i=t.options)?void 0:i.variableId)?[t.options.variableId]:void 0}]},[])},es=(e,t)=>e.reduce((e,l)=>{if(t.some(e=>{var t;return null==(t=e.variableIds)?void 0:t.includes(l.id)})||l.isSessionVariable)return e;let n=e.find(e=>e.label===l.name);if(n){var r;let t={...n,variableIds:null==(r=n.variableIds)?void 0:r.concat([l.id])};return[...e.filter(e=>e.label!==l.name),t]}return[...e,{id:l.id,label:l.name,variableIds:[l.id]}]},[]),eo=e=>{let{results:t,existingInputResultHeaders:l,groups:n}=e;return t.flatMap(e=>e.answers).filter(e=>l.every(t=>t.id!==e.blockId)&&(0,m.hj)(e.content)).reduce((e,t)=>{var l,r;if(e.some(e=>e.id===t.blockId))return e;let i=null!=(r=null==(l=n.find(e=>e.blocks.some(e=>e.id===t.blockId)))?void 0:l.id)?r:"";return[...e,{id:t.blockId,label:"".concat(t.blockId," (deleted block)"),blocks:[{id:t.blockId,groupId:i}],blockType:X.iQ.TEXT}]},[])};var ea=l(29328),ed=l(37191),eu=l(44444),ec=l(39199);let ep=e=>{let{fileNamesStr:t}=e,l=t.split(", ");return(0,n.jsx)(ec.B,{maxW:"300px",children:l.map(e=>{var t;return(0,n.jsxs)(K.z,{as:ec.Q,children:[(0,n.jsx)(eu.oS,{}),(0,n.jsx)(ed.Y,{href:e,isExternal:!0,children:decodeURIComponent(null!=(t=e.split("/").pop())?t:"")})]},e)})})},ex=(e,t)=>e?Array.isArray(e)?{element:(0,n.jsx)(ea.B,{spacing:2,children:e.map((e,t)=>(0,n.jsxs)(_.E,{children:[t+1,". ",e]},t))}),plainText:e.join(", ")}:t===X.iQ.FILE?{element:(0,n.jsx)(ep,{fileNamesStr:e}),plainText:e}:{plainText:e.toString()}:{element:void 0,plainText:""};var eh=l(95099);let eg=Intl.DateTimeFormat().resolvedOptions().timeZone,em=e=>{let{timeFilter:t,typebotId:l,onError:n}=e,{data:r,error:i,fetchNextPage:s,hasNextPage:o,refetch:a}=(0,eh.q)(d.id.results.getResults.infiniteQueryOptions({timeZone:eg,timeFilter:t,typebotId:l},{getNextPageParam:e=>e.nextCursor}));return i&&n&&n(i.message),{data:null==r?void 0:r.pages,isLoading:!i&&!r,fetchNextPage:s,hasNextPage:o,refetch:a}},eb=(0,b.createContext)({}),ef=e=>{var t;let{timeFilter:l,children:r,typebotId:i,totalResults:o,onDeleteResults:a}=e,{publishedTypebot:u}=(0,s.V)(),{data:c,fetchNextPage:p,hasNextPage:x,refetch:g}=em({timeFilter:l,typebotId:i,onError:e=>{(0,J.o)({description:e})}}),f=null!=(t=null==u?void 0:u.groups.flatMap(e=>e.blocks).reduce((e,t)=>{var l,n;if(t.type!==j.G.TYPEBOT_LINK)return e;let r=null==(l=t.options)?void 0:l.typebotId;return(0,m.O9)(r)&&!e.includes(r)&&(null==(n=t.options)?void 0:n.mergeResults)!==!1?[...e,r]:e},[]))?t:[],{data:v}=(0,h.I)(d.id.getLinkedTypebots.queryOptions({typebotId:i},{enabled:f.length>0})),y=(0,b.useMemo)(()=>{var e;return null!=(e=null==c?void 0:c.flatMap(e=>e.results))?e:[]},[c]),I=(0,b.useMemo)(()=>u?er(u,null==v?void 0:v.typebots):[],[null==v?void 0:v.typebots,u]),w=(0,b.useMemo)(()=>{var e;return u?et({results:null!=(e=null==c?void 0:c.flatMap(e=>e.results))?e:[],headerCells:I,cellParser:ex,blockIdVariableIdMap:en(u.groups)}):[]},[u,c,I]);return(0,n.jsx)(eb.Provider,{value:{resultsList:c,flatResults:y,hasNextPage:null==x||x,tableData:w,resultHeader:I,totalResults:o,onDeleteResults:a,fetchNextPage:p,refetchResults:g},children:r})},ej=()=>(0,b.useContext)(eb);var ev=l(32263),ey=l(67039),eI=l(50427),ew=l(57470),eS=l(7959),ek=l(86747),eC=l(31445),eT=l(50456),eR=l(40513),eE=l(63046),ez=l(64660),eO=l(4587),eD=l(85288);let eB=(e,t,l)=>{let{data:n,error:r}=(0,h.I)(d.id.results.getResultLogs.queryOptions({resultId:null!=t?t:"",typebotId:e},{enabled:(0,m.O9)(t)}));return r&&l&&l(r.message),{logs:null==n?void 0:n.logs,isLoading:!r&&!n}},eL=e=>{let{typebotId:t,resultId:l,onClose:r}=e,{isLoading:i,logs:s}=eB(t,l);return(0,n.jsxs)(ev.aF,{isOpen:(0,m.O9)(l),onClose:r,size:"xl",children:[(0,n.jsx)(ey.m,{}),(0,n.jsxs)(eI.$,{children:[(0,n.jsx)(ew.r,{children:"Logs"}),(0,n.jsx)(eS.s,{}),(0,n.jsxs)(ek.c,{as:ea.B,children:[null==s?void 0:s.map((e,t)=>(0,n.jsx)(eM,{log:e},t)),i&&(0,n.jsx)(x.y,{}),!i&&0===(null!=s?s:[]).length&&(0,n.jsx)(_.E,{children:"No logs found."})]}),(0,n.jsx)(eC.j,{})]})]})},eM=e=>{let{log:t}=e;return t.details?(0,n.jsx)(eT.n,{allowToggle:!0,children:(0,n.jsxs)(eR.A,{style:{borderBottomWidth:0,borderWidth:0},children:[(0,n.jsxs)(eE.J,{as:K.z,p:"4",cursor:"pointer",justifyContent:"space-between",borderRadius:"md",children:[(0,n.jsxs)(K.z,{gap:3,alignItems:"flex-start",children:[(0,n.jsx)(eA,{status:t.status,flexShrink:0,mt:.5}),(0,n.jsx)(ea.B,{children:(0,n.jsxs)(_.E,{children:[t.context&&(0,n.jsxs)(ez.B.span,{fontWeight:"medium",children:[t.context,":"]})," ",t.description]})})]}),(0,n.jsx)(eO.Q,{})]}),(0,n.jsx)(eD.v,{as:"pre",overflow:"auto",borderWidth:"1px",borderRadius:"md",children:t.details})]})}):(0,n.jsxs)(K.z,{p:"4",gap:3,alignItems:"flex-start",children:[(0,n.jsx)(eA,{status:t.status,flexShrink:0,mt:.5}),(0,n.jsxs)(_.E,{children:[t.context&&(0,n.jsxs)(ez.B.span,{fontWeight:"medium",children:[t.context,":"]})," ",t.description]})]})},eA=e=>{let{status:t,...l}=e;switch(t){case"error":return(0,n.jsx)(q.vw,{colorScheme:"red",...l,children:"Fail"});case"warning":return(0,n.jsx)(q.vw,{colorScheme:"orange",...l,children:"Warn"});case"info":return(0,n.jsx)(q.vw,{colorScheme:"blue",...l,children:"Info"});default:return(0,n.jsx)(q.vw,{colorScheme:"green",...l,children:"Ok"})}};var eF=l(66425),eV=l(85678);let eP=(e,t)=>e?[...e.slice(0,-1),...t.filter(t=>!e.includes(t.id)).map(e=>e.id),"logs"]:["select",...t.map(e=>e.id),"logs"],eW=e=>{let{typebotId:t,resultId:l,enabled:n=!1}=e;return(0,h.I)(d.id.results.getResultTranscript.queryOptions({typebotId:t,resultId:l},{enabled:n}))};var eU=l(9533);let eH=e=>{let{header:t}=e;return t.blockType?(0,n.jsx)(eU.t,{type:t.blockType}):t.variableIds?(0,n.jsx)(eu.lo,{}):(0,n.jsx)(eu.CT,{})},e$=e=>{var t,l;let{resultId:r,onClose:i}=e,o=(0,p.dU)("gray.100","gray.900"),a=(0,p.dU)("gray.800","gray.200"),d=(0,p.dU)("white","gray.950"),[u,c]=(0,b.useState)("transcript"),{tableData:h,resultHeader:g}=ej(),{typebot:f}=(0,s.V)(),j=(0,m.O9)(r)?h.find(e=>e.id.plainText===r):void 0,{data:v,isLoading:y}=eW({typebotId:null!=(l=null==f?void 0:f.id)?l:"",resultId:null!=r?r:"",enabled:(0,m.O9)(r)&&(0,m.O9)(null==f?void 0:f.id)}),I=eP(null==f||null==(t=f.resultsTablePreferences)?void 0:t.columnsOrder,g),w=e=>{var t;return"string"==typeof e?e:null!=(t=e.element)?t:e.plainText};return y?(0,n.jsxs)(ea.B,{align:"center",py:8,children:[(0,n.jsx)(x.y,{}),(0,n.jsx)(_.E,{children:"Loading transcript..."})]}):(0,n.jsxs)(ev.aF,{isOpen:(0,m.O9)(j),onClose:i,size:"2xl",children:[(0,n.jsx)(ey.m,{}),(0,n.jsxs)(eI.$,{children:[(0,n.jsx)(eS.s,{}),(0,n.jsxs)(ek.c,{as:ea.B,p:"6",spacing:"6",children:[(0,n.jsxs)(K.z,{children:[(0,n.jsxs)(N.$,{variant:"transcript"===u?"outline":"ghost",onClick:()=>c("transcript"),colorScheme:"transcript"===u?"orange":"gray",size:"sm",children:["Transcript",(0,n.jsx)(q.vw,{size:"sm",colorScheme:"orange",ml:1,children:"Beta"})]}),(0,n.jsx)(N.$,{variant:"answers"===u?"outline":"ghost",onClick:()=>c("answers"),colorScheme:"answers"===u?"orange":"gray",size:"sm",children:"Answers"})]}),"transcript"===u&&(0,n.jsx)(eF.az,{borderWidth:1,borderRadius:"md",p:4,bg:d,children:null==v?void 0:v.transcript.map((e,t)=>{let l="bot"===e.role,r=e.text||e.image||e.video||e.audio||"";return(0,n.jsx)(K.z,{justify:l?"flex-start":"flex-end",w:"full",mb:2,children:(0,n.jsx)(eF.az,{maxW:"70%",bg:l?o:"orange.500",color:l?a:"white",borderWidth:1,px:3,py:2,borderRadius:"lg",borderBottomLeftRadius:l?"sm":"lg",borderBottomRightRadius:l?"lg":"sm",children:(0,n.jsx)(_.E,{whiteSpace:"pre-wrap",fontSize:"sm",children:"text"===e.type?r:"[".concat(e.type.toUpperCase(),"] ").concat(r)})})},t)})}),"answers"===u&&(0,n.jsx)(ea.B,{spacing:"6",children:I.map(e=>{if(!j||!j[e])return null;let t=g.find((0,m.$H)(e));return t?(0,n.jsxs)(ea.B,{spacing:"4",children:[(0,n.jsxs)(K.z,{children:[(0,n.jsx)(eH,{header:t}),(0,n.jsx)(eV.D,{fontSize:"md",children:t.label})]}),(0,n.jsx)(_.E,{whiteSpace:"pre-wrap",textAlign:"justify",children:w(j[t.id])})]},t.id):null})})]})]})]})};var eK=l(79220),eN=l(39696),e_=l(5969);let eq=e=>{let{headerGroup:t}=e,l=(0,p.dU)(e_.T.gray[200],e_.T.gray[700]),r=(0,p.dU)("white",e_.T.gray[900]);return(0,n.jsx)("tr",{children:t.headers.map(e=>(0,n.jsxs)(ez.B.th,{px:"4",py:"3",borderX:"1px",borderColor:l,backgroundColor:r,zIndex:1,pos:"sticky",top:"0",fontWeight:"normal",whiteSpace:"nowrap",wordBreak:"normal",colSpan:e.colSpan,shadow:"inset 0 1px 0 ".concat(l,", inset 0 -1px 0 ").concat(l,"; "),style:{minWidth:e.getSize(),maxWidth:e.getSize()},children:[e.isPlaceholder?null:(0,eK.Kv)(e.column.columnDef.header,e.getContext()),e.column.getCanResize()&&(0,n.jsx)(eQ,{onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler()})]},e.id))},t.id)},eQ=e=>(0,n.jsx)(eF.az,{pos:"absolute",right:"-5px",w:"10px",h:"full",top:"0",cursor:"col-resize",userSelect:"none","data-testid":"resize-handle",...e});var eG=l(42955);let eY=b.forwardRef((e,t)=>{let{indeterminate:l,checked:r,...i}=e,s=b.useRef();return(0,n.jsx)(c.s,{justify:"center","data-testid":"checkbox",children:(0,n.jsx)(eG.S,{ref:t||s,...i,isIndeterminate:l,isChecked:r})})}),eZ=e=>{let{totalColumns:t}=e,l=(0,p.dU)("gray.200","gray.700");return(0,n.jsx)(n.Fragment,{children:Array.from([,,,]).map((e,r)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)(ez.B.td,{px:"2",py:"2",border:"1px",borderColor:l,width:"40px",children:(0,n.jsx)(c.s,{ml:"1",children:(0,n.jsx)(eG.S,{isDisabled:!0})})}),Array.from(Array(t)).map((e,t)=>(0,n.jsx)(ez.B.td,{px:"4",py:"2",border:"1px",borderColor:l,children:(0,n.jsx)(D.E,{height:"5px",w:"full"})},t))]},r))})};var eJ=l(76308);let eX=(0,b.memo)(e=>{let{cell:t,size:l,isExpandButtonVisible:r,rowIndex:i,cellIndex:s,onExpandButtonClick:o}=e;return(0,n.jsxs)(ez.B.td,{px:"4",py:"2",borderWidth:0===i?"0 1px 1px 1px":"1px",borderColor:(0,p.dU)("gray.200","gray.700"),whiteSpace:"pre-wrap",pos:"relative",style:{minWidth:l,maxWidth:l},children:[(0,eK.Kv)(t.column.columnDef.cell,t.getContext()),(0,n.jsx)(ez.B.span,{pos:"absolute",top:"0",right:2,h:"full",display:"inline-flex",alignItems:"center",children:(0,n.jsx)(eJ.z,{unmountOnExit:!0,in:r&&1===s,children:(0,n.jsx)(N.$,{leftIcon:(0,n.jsx)(eu.mS,{}),shadow:"md",size:"xs",onClick:o,children:"Open"})})})]},t.id)},(e,t)=>e.size===t.size&&e.isExpandButtonVisible===t.isExpandButtonVisible&&e.isSelected===t.isSelected),e0=e=>{let{row:t,bottomElement:l,onExpandButtonClick:r,isSelected:i}=e,[s,o]=(0,b.useState)(!1),a=()=>o(!0);return(0,n.jsx)("tr",{"data-rowid":t.id,ref:e=>{var n;l&&(null==(n=l.current)?void 0:n.dataset.rowid)!==t.id&&(l.current=e)},onMouseEnter:a,onClick:a,onMouseLeave:()=>o(!1),children:t.getVisibleCells().map((e,l)=>(0,n.jsx)(eX,{cell:e,size:e.column.getSize(),isExpandButtonVisible:s,rowIndex:t.index,cellIndex:l,onExpandButtonClick:r,isSelected:i},e.id))},t.id)};var e1=l(27501),e9=l(58972),e2=l(16932),e4=l(93251);let e5=(e,t)=>{let l=/^(.*?)\s*\(\d+\)$/,n=l.test(e)?e.match(l)[1]:e,r=t.reduce((e,t)=>l.test(t)&&t.match(l)[1]===n||n===t?e+1:e,0);return 0===r?null!=n?n:"":"".concat(n," (").concat(r,")")};var e8=l(18896);let e7=e=>{let{selectedResultsId:t,onClearSelection:l}=e,r=(0,p.dU)("blue.500","blue.200"),{typebot:i}=(0,s.V)(),{resultHeader:o,tableData:a,onDeleteResults:c}=ej(),{isOpen:x,onOpen:h,onClose:g}=(0,u.j)(),[f,j]=(0,b.useState)(!1),[v,y]=(0,b.useState)(!1),I=(0,e4.jE)(),w=(0,e2.n)(d.id.results.deleteResults.mutationOptions({onMutate:()=>{j(!0)},onError:e=>(0,J.o)({description:e.message}),onSuccess:async()=>{await I.invalidateQueries(d.id.results.getResults.pathFilter())},onSettled:()=>{c(t.length),l(),j(!1)}})),S=null==i?void 0:i.workspaceId,k=null==i?void 0:i.id,C=t.length,T=async()=>{S&&k&&w.mutate({typebotId:k,resultIds:t.join(",")})},R=async()=>{var e,l;y(!0);let n=a.filter(e=>t.includes(e.id.plainText)),r=eP(null==i||null==(e=i.resultsTablePreferences)?void 0:e.columnsOrder,o).reduce((e,t)=>{var l,n;if((null==i||null==(l=i.resultsTablePreferences)?void 0:l.columnsVisibility[t])===!1)return e;let r=null==(n=o.find(e=>e.id===t))?void 0:n.id;return r?[...e,r]:e},[]).concat((null==i||null==(l=i.resultsTablePreferences)?void 0:l.columnsOrder)?o.filter(e=>{var t;return!(null==i||null==(t=i.resultsTablePreferences)?void 0:t.columnsOrder.includes(e.id))}).map(e=>e.id):[]),s=n.map(e=>{let t={};return null==r||r.forEach(l=>{var n,r;let i=null==(n=o.find((0,m.$H)(l)))?void 0:n.label;if(!i)return;let s=e5(i,Object.keys(t));t[s]=null==(r=e[l])?void 0:r.plainText}),t}),d=new Blob([(0,e8.unparse)(s)],{type:"text/csv;charset=utf-8;"}),u="typebot-export_".concat(new Date().toLocaleDateString().replaceAll("/","-")),c=document.createElement("a");c.href=window.URL.createObjectURL(d),c.setAttribute("download","".concat(u,".csv")),c.click(),y(!1)};return 0===C?null:(0,n.jsxs)(K.z,{rounded:"md",spacing:0,children:[(0,n.jsxs)(N.$,{color:r,borderRightWidth:"1px",borderRightRadius:"none",onClick:l,size:"sm",children:[C," selected"]}),(0,n.jsx)(e9.K,{borderRightWidth:"1px",borderRightRadius:"none",borderLeftRadius:"none","aria-label":"Export",icon:(0,n.jsx)(eu.s3,{}),onClick:R,isLoading:v,size:"sm"}),(0,n.jsx)(e9.K,{"aria-label":"Delete",borderLeftRadius:"none",icon:(0,n.jsx)(eu.uc,{}),onClick:h,isLoading:f,size:"sm"}),(0,n.jsx)(e1.u,{isOpen:x,onConfirm:T,onClose:g,message:(0,n.jsxs)(_.E,{children:["You are about to delete"," ",(0,n.jsxs)("strong",{children:[C," submission",C>1?"s":""]}),". Are you sure you wish to continue?"]}),confirmButtonLabel:"Delete"})]})};var e3=l(46370),e6=l(66737),te=l(8972),tt=l(49224),tl=l(73925),tn=l(70047),tr=l(17358),ti=l(80118);let ts=e=>{let{resultHeader:t,columnVisibility:l,setColumnVisibility:r,columnOrder:i,onColumnOrderChange:s}=e,o=(0,tn.FR)((0,tn.MS)(tn.AN),(0,tn.MS)(tn.uN,{coordinateGetter:tr.JR})),[a,d]=(0,b.useState)(null),u=e=>()=>{!1===l[e]?r({...l,[e]:!0}):r({...l,[e]:!1})},p=t.sort((e,t)=>i.indexOf(e.id)-i.indexOf(t.id)),x=t.filter(e=>!1===l[e.id]);return(0,n.jsxs)(ea.B,{children:[(0,n.jsx)(_.E,{fontWeight:"medium",fontSize:"sm",children:"Shown in table:"}),(0,n.jsxs)(tn.Mp,{sensors:o,collisionDetection:tn.fp,onDragStart:e=>{let{active:t}=e;d(t.id)},onDragEnd:e=>{let{active:t,over:l}=e;if(t.id!==(null==l?void 0:l.id)){let e=i.indexOf(t.id),n=i.indexOf(null==l?void 0:l.id);if(-1===n||-1===e)return;s((0,tr.be)(i,e,n))}},children:[(0,n.jsx)(tr.gB,{items:i,strategy:tr._G,children:p.map(e=>(0,n.jsx)(to,{header:e,onEyeClick:u,hiddenHeaders:x},e.id))}),(0,n.jsx)(te.Z,{children:(0,n.jsx)(tn.Hd,{dropAnimation:{duration:0},children:a?(0,n.jsx)(c.s,{}):null})})]})]})},to=e=>{let{header:t,hiddenHeaders:l,onEyeClick:r}=e,{attributes:i,listeners:s,setNodeRef:o,transform:a,transition:d,isDragging:u}=(0,tr.gl)({id:t.id}),p={transform:ti.Ks.Transform.toString(a),transition:d},x=l.some(e=>e.id===t.id);return(0,n.jsxs)(c.s,{justify:"space-between",ref:o,style:p,opacity:u||x?.5:1,...i,children:[(0,n.jsxs)(K.z,{overflow:"hidden",children:[(0,n.jsx)(e9.K,{size:"sm",cursor:"grab",icon:(0,n.jsx)(eu.sX,{transform:"rotate(90deg)"}),"aria-label":"Drag",variant:"ghost",...s}),(0,n.jsx)(eH,{header:t}),(0,n.jsx)(_.E,{noOfLines:1,children:t.label})]}),(0,n.jsx)(e9.K,{icon:x?(0,n.jsx)(eu.aR,{}):(0,n.jsx)(eu.bM,{}),size:"sm","aria-label":"Hide column",onClick:r(t.id)})]})};var ta=l(49332),td=l(86158),tu=l(80853);let tc=e=>{let{isOpen:t,onClose:l}=e,{typebot:r,publishedTypebot:i}=(0,s.V)(),o=null==r?void 0:r.workspaceId,a=null==r?void 0:r.id,{resultHeader:u,totalResults:c}=ej(),p=(0,e4.jE)(),[x,g]=(0,b.useState)(!1),[f,j]=(0,b.useState)(0),[v,y]=(0,b.useState)(!1),{data:I}=(0,h.I)(d.id.getLinkedTypebots.queryOptions({typebotId:a},{enabled:(0,m.O9)(a)})),w=async()=>{let e;if(!o||!a)return[];let{stats:{totalStarts:t}}=await d.rP.analytics.getStats.query({typebotId:a,timeFilter:"allTime"}),l=[];j(0);do try{let{results:n,nextCursor:r}=await p.fetchQuery(d.id.results.getResults.queryOptions({typebotId:a,limit:100,cursor:e,timeFilter:"allTime"}));l.push(...n),j(l.length/t*100),e=null!=r?r:void 0}catch(e){return(0,J.o)({description:e.message}),[]}while(e);return l},S=async()=>{var e;if(!i)return;g(!0);let t=await w();if(!t.length)return g(!1);let l=v?er(i,null==I?void 0:I.typebots,t):u,n=et({results:t,headerCells:l,blockIdVariableIdMap:en(null==r?void 0:r.groups)}),s=eP(null==r||null==(e=r.resultsTablePreferences)?void 0:e.columnsOrder,l).reduce((e,t)=>{var n,i;if((null==r||null==(n=r.resultsTablePreferences)?void 0:n.columnsVisibility[t])===!1)return e;let s=null==(i=l.find(e=>e.id===t))?void 0:i.id;return s?[...e,s]:e},[]),o=n.map(e=>{let t={};return null==s||s.forEach(n=>{var r,i;let s=null==(r=l.find((0,m.$H)(n)))?void 0:r.label;if(!s)return;let o=e5(s,Object.keys(t));t[o]=null==(i=e[n])?void 0:i.plainText}),t}),a=new Blob([(0,e8.unparse)(o)],{type:"text/csv;charset=utf-8;"}),d="typebot-export_".concat(new Date().toLocaleDateString().replaceAll("/","-")),c=document.createElement("a");c.href=window.URL.createObjectURL(a),c.setAttribute("download","".concat(d,".csv")),c.click(),g(!1)};return(0,n.jsxs)(ev.aF,{isOpen:t,onClose:l,size:"md",children:[(0,n.jsx)(ey.m,{}),(0,n.jsxs)(eI.$,{children:[(0,n.jsx)(ew.r,{}),(0,n.jsxs)(ek.c,{as:ea.B,spacing:"4",children:[(0,n.jsx)(td.R,{label:"Include deleted blocks",moreInfoContent:"Blocks from previous bot version that have been deleted",initialValue:!1,onCheckChange:y}),c>2e3?(0,n.jsx)(ta.H,{children:"The export may take a while."}):(0,n.jsx)(ta.H,{children:"The export may take up to 1 minute."}),x&&(0,n.jsxs)(ea.B,{children:[(0,n.jsx)(_.E,{children:"Fetching all results..."}),(0,n.jsx)(tu.k,{value:f,borderRadius:"md",colorScheme:"orange"})]})]}),(0,n.jsxs)(eC.j,{as:K.z,children:[(0,n.jsx)(N.$,{onClick:l,variant:"ghost",size:"sm",children:"Cancel"}),(0,n.jsx)(N.$,{colorScheme:"orange",onClick:S,leftIcon:(0,n.jsx)(eu.s3,{}),size:"sm",isLoading:x,children:"Export"})]})]})]})},tp=e=>{let{isOpen:t,onOpen:l,onClose:r}=(0,u.j)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e3.A,{isLazy:!0,placement:"bottom-end",children:[(0,n.jsx)(e6.W,{children:(0,n.jsx)(e9.K,{size:"sm","aria-label":"Open table settings",icon:(0,n.jsx)(eu.jN,{})})}),(0,n.jsx)(te.Z,{children:(0,n.jsx)(tt.h,{w:"300px",children:(0,n.jsx)(tx,{...e,onExportAllClick:l})})})]}),(0,n.jsx)(tc,{onClose:r,isOpen:t})]})},tx=e=>{let{resultHeader:t,columnVisibility:l,setColumnVisibility:r,columnOrder:i,onColumnOrderChange:s,onExportAllClick:o}=e,[a,d]=(0,b.useState)(null);return"columnSettings"===a?(0,n.jsx)(tl.e,{as:ea.B,spacing:"4",p:"4",maxH:"450px",overflowY:"auto",children:(0,n.jsx)(ts,{resultHeader:t,columnVisibility:l,setColumnVisibility:r,columnOrder:i,onColumnOrderChange:s})}):(0,n.jsxs)(tl.e,{as:ea.B,p:"0",spacing:"0",children:[(0,n.jsxs)(N.$,{onClick:()=>d("columnSettings"),variant:"ghost",borderBottomRadius:0,justifyContent:"space-between",children:[(0,n.jsxs)(K.z,{children:[(0,n.jsx)(eu.kp,{}),(0,n.jsx)(_.E,{children:"Column settings"})]}),(0,n.jsx)(eu.vK,{color:"gray.400"})]}),"noOfLines=",1,(0,n.jsx)(N.$,{onClick:o,variant:"ghost",borderTopRadius:0,justifyContent:"space-between",children:(0,n.jsxs)(K.z,{children:[(0,n.jsx)(eu.s3,{}),(0,n.jsx)(_.E,{children:"Export all"})]})})]})},th=e=>{let{resultHeader:t,data:l,hasMore:r,preferences:i,timeFilter:o,onTimeFilterChange:a,onScrollToBottom:d,onLogOpenIndex:u,onResultExpandIndex:c}=e,x=(0,p.dU)("white",e_.T.gray[900]),{updateTypebot:h,currentUserMode:g}=(0,s.V)(),[m,f]=(0,b.useState)({}),j=(0,b.useRef)(null),v=(0,b.useRef)(null),{columnsOrder:y,columnsVisibility:I={},columnsWidth:w={}}={...i,columnsOrder:eP(null==i?void 0:i.columnsOrder,t)},S=b.useMemo(()=>[{id:"select",enableResizing:!1,maxSize:40,header:e=>{let{table:t}=e;return(0,n.jsx)(eY,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler()})},cell:e=>{let{row:t}=e;return(0,n.jsx)("div",{className:"px-1",children:(0,n.jsx)(eY,{checked:t.getIsSelected(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})})}},...t.map(e=>({id:e.id,accessorKey:e.id,size:200,header:()=>(0,n.jsxs)(K.z,{overflow:"hidden","data-testid":"".concat(e.label," header"),children:[(0,n.jsx)(eH,{header:e}),(0,n.jsx)(_.E,{children:e.label})]}),cell:e=>{let t=null==e?void 0:e.getValue();if(t)return t.element||t.plainText||""}})),{id:"logs",enableResizing:!1,maxSize:110,header:()=>(0,n.jsxs)(K.z,{children:[(0,n.jsx)(eu.Rk,{}),(0,n.jsx)(_.E,{children:"Logs"})]}),cell:e=>{let{row:t}=e;return(0,n.jsx)(N.$,{size:"sm",onClick:u(t.index),children:"See logs"})}}],[u,t]),k=(0,eK.N4)({data:l,columns:S,state:{rowSelection:m,columnVisibility:I,columnOrder:y,columnSizing:w},getRowId:e=>e.id.plainText,columnResizeMode:"onChange",onRowSelectionChange:f,onColumnSizingChange:e=>{"object"!=typeof e&&h({updates:{resultsTablePreferences:{columnsWidth:e(w),columnsVisibility:I,columnsOrder:y}}})},getCoreRowModel:(0,eN.HT)()}),C=(0,b.useCallback)(e=>{e[0].isIntersecting&&d()},[d]);return(0,b.useEffect)(()=>{if(!j.current)return;let e=new IntersectionObserver(C,{root:v.current,threshold:0});return j.current&&e.observe(j.current),()=>{e.disconnect()}},[C,j.current]),(0,n.jsxs)(ea.B,{maxW:"1600px",px:"4",overflowY:"hidden",spacing:6,children:[(0,n.jsxs)(K.z,{w:"full",justifyContent:"flex-end",children:["write"===g&&(0,n.jsx)(e7,{selectedResultsId:Object.keys(m),onClearSelection:()=>f({})}),(0,n.jsx)(F,{timeFilter:o,onTimeFilterChange:a,size:"sm"}),(0,n.jsx)(tp,{resultHeader:t,columnVisibility:I,setColumnVisibility:e=>{"function"!=typeof e&&h({updates:{resultsTablePreferences:{columnsVisibility:e,columnsWidth:w,columnsOrder:y}}})},columnOrder:y,onColumnOrderChange:e=>{"function"!=typeof e&&h({updates:{resultsTablePreferences:{columnsOrder:e,columnsVisibility:I,columnsWidth:w}}})}})]}),(0,n.jsx)(eF.az,{ref:v,overflow:"auto","data-testid":"results-table",children:(0,n.jsxs)(ez.B.table,{background:x,children:[(0,n.jsx)("thead",{children:k.getHeaderGroups().map(e=>(0,n.jsx)(eq,{headerGroup:e},e.id))}),(0,n.jsxs)("tbody",{children:[k.getRowModel().rows.map((e,t)=>(0,n.jsx)(e0,{row:e,bottomElement:t===l.length-10?j:void 0,isSelected:e.getIsSelected(),onExpandButtonClick:c(t)},e.id)),!0===r&&(0,n.jsx)(eZ,{totalColumns:t.filter(e=>!1!==I[e.id]).length+1})]})]})})]})},tg=e=>{var t;let{timeFilter:l,onTimeFilterChange:r}=e,{query:i}=(0,Y.useRouter)(),{flatResults:o,fetchNextPage:a,hasNextPage:d,resultHeader:u,tableData:c}=ej(),{typebot:p,publishedTypebot:x}=(0,s.V)(),[h,g]=(0,b.useState)(null),[m,f]=(0,b.useState)(null);return(0,b.useEffect)(()=>{i.id&&f(i.id)},[i.id]),(0,n.jsxs)(ea.B,{pb:"28",px:["4","0"],spacing:"4",maxW:"1600px",w:"full",children:[x&&(0,n.jsx)(eL,{typebotId:null==x?void 0:x.typebotId,resultId:h,onClose:()=>g(null)}),(0,n.jsx)(e$,{resultId:m,onClose:()=>f(null)}),p&&(0,n.jsx)(th,{preferences:null!=(t=p.resultsTablePreferences)?t:void 0,resultHeader:u,data:c,onScrollToBottom:a,hasMore:d,timeFilter:l,onLogOpenIndex:e=>()=>{o[e]&&g(o[e].id)},onResultExpandIndex:e=>()=>{o[e]&&f(o[e].id)},onTimeFilterChange:r})]})},tm=Intl.DateTimeFormat().resolvedOptions().timeZone,tb=()=>{var e,t;let l=(0,Y.useRouter)(),{workspace:i}=(0,$.h)(),{typebot:o,publishedTypebot:a}=(0,s.V)(),u=(0,b.useMemo)(()=>l.pathname.endsWith("analytics"),[l.pathname]),x=(0,p.dU)("white","gray.950"),[g,m]=(0,Z.ZA)("timeFilter",{defaultValue:A,parse:e=>L.includes(e)?e:null}),{data:{stats:f}={},refetch:j}=(0,h.I)(d.id.analytics.getStats.queryOptions({typebotId:null==a?void 0:a.typebotId,timeFilter:g,timeZone:tm},{enabled:!!a}));return(0,n.jsxs)(c.s,{overflow:"hidden",h:"100vh",flexDir:"column",children:[(0,n.jsx)(r.G,{title:l.pathname.endsWith("analytics")?(null==o?void 0:o.name)?"".concat(o.name," | Analytics"):"Analytics":(null==o?void 0:o.name)?"".concat(o.name," | Results"):"Results"}),(0,n.jsx)(H.R,{}),(0,n.jsxs)(c.s,{h:"full",w:"full",bgColor:x,children:[(0,n.jsx)(c.s,{pos:"absolute",w:"full",justifyContent:"center",h:"60px",display:["none","flex"],children:(0,n.jsxs)(K.z,{maxW:"1600px",w:"full",px:"4",children:[(0,n.jsxs)(N.$,{as:G(),colorScheme:u?"gray":"orange",variant:u?"ghost":"outline",size:"sm",href:{pathname:"/typebots/[typebotId]/results",query:{typebotId:null==a?void 0:a.typebotId,timeFilter:g&&g!==A?g:void 0}},children:[(0,n.jsx)(_.E,{children:"Submissions"}),(null!=(e=null==f?void 0:f.totalStarts)?e:0)>0&&(0,n.jsx)(q.vw,{size:"sm",colorScheme:"orange",ml:"1",children:null==f?void 0:f.totalStarts})]}),(0,n.jsx)(N.$,{as:G(),colorScheme:u?"orange":"gray",variant:u?"outline":"ghost",href:{pathname:"/typebots/[typebotId]/results/analytics",query:{typebotId:null==a?void 0:a.typebotId,timeFilter:g&&g!==A?g:void 0}},size:"sm",children:"Analytics"})]})}),(0,n.jsx)(c.s,{pt:["10px","60px"],w:"full",justify:"center",children:i&&a&&(u?(0,n.jsx)(U,{stats:f,timeFilter:g,onTimeFilterChange:m}):(0,n.jsx)(ef,{timeFilter:g,typebotId:a.typebotId,totalResults:null!=(t=null==f?void 0:f.totalStarts)?t:0,onDeleteResults:()=>{f&&j()},children:(0,n.jsx)(tg,{timeFilter:g,onTimeFilterChange:m})}))})]})]})};function tf(){return(0,n.jsx)(tb,{})}}}]);