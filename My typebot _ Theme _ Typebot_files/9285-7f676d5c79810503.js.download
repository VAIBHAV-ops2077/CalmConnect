try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6334349c-30d0-466c-9b70-24fc2fb9e9c1",e._sentryDebugIdIdentifier="sentry-dbid-6334349c-30d0-466c-9b70-24fc2fb9e9c1")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9285],{37191:(e,t,i)=>{"use strict";i.d(t,{Y:()=>c});var n=i(6029),a=i(44444),l=i(64660),s=i(28144),r=i(82203),o=i.n(r);i(55729);let c=e=>{let{children:t,href:i,shallow:r,replace:c,scroll:d,prefetch:u,isExternal:h,noOfLines:g,...x}=e;return(0,n.jsx)(o(),{href:i,shallow:r,replace:c,scroll:d,prefetch:u,target:h?"_blank":void 0,children:(0,n.jsx)(l.B.span,{textDecor:"underline",display:"inline-block",...x,children:h?(0,n.jsxs)(s.z,{as:"span",spacing:1,children:[(0,n.jsx)(l.B.span,{noOfLines:g,maxW:"100%",children:t}),(0,n.jsx)(a.pT,{})]}):t})})}},61205:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});let n=(e,t,i)=>{let n=new URL("".concat(window.location.origin,"/api/auth/callback/nodemailer"));return n.searchParams.set("token",e),n.searchParams.set("email",t),n.searchParams.set("callbackUrl","".concat(window.location.origin).concat(null!=i?i:"/typebots")),n.toString()}},71062:(e,t,i)=>{"use strict";i.d(t,{J:()=>l});var n=i(6029),a=i(3495);let l=e=>(0,n.jsx)(a.I,{viewBox:"0 0 24 24",...e,children:(0,n.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[(0,n.jsx)("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),(0,n.jsx)("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),(0,n.jsx)("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),(0,n.jsx)("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})})},86973:()=>{},91945:(e,t,i)=>{"use strict";i.d(t,{q:()=>Y});var n=i(6029),a=i(98965),l=i(37191),s=i(9541),r=i(29328),o=i(90869),c=i(85678),d=i(94283),u=i(90944),h=i(81278),g=i(20873),x=i(39375),f=i(53295),j=i(28144),p=i(96378),m=i(22070),b=i(81208),v=i(38859),y=i(70205),k=i(75534),L=i(84179),w=i(1170),C=i(71084),M=i(52229),z=i(37016),B=i(55729),E=i(61205),A=i(49377),I=i(66425),S=i(21638);let D=e=>{let{children:t,...i}=e;return(0,n.jsxs)(A.s,{align:"center",color:"gray.300",...i,children:[(0,n.jsx)(I.az,{flex:"1",children:(0,n.jsx)(S.c,{borderColor:"currentcolor"})}),(0,n.jsx)(d.E,{as:"span",px:"3",color:(0,o.dU)("gray.600","gray.400"),fontWeight:"medium",children:t}),(0,n.jsx)(I.az,{flex:"1",children:(0,n.jsx)(S.c,{borderColor:"currentcolor"})})]})},_=e=>{let{error:t}=e,{t:i}=(0,u.WD)(),a={Signin:i("auth.error.default"),OAuthSignin:i("auth.error.default"),OAuthCallback:i("auth.error.default"),OAuthCreateAccount:i("auth.error.email"),EmailCreateAccount:i("auth.error.default"),Callback:i("auth.error.default"),Verification:"Your email authentication request is expired. Please sign in again.",OAuthAccountNotLinked:i("auth.error.oauthNotLinked"),default:i("auth.error.unknown")};return a[t]?(0,n.jsx)(v.F,{status:"error",variant:"solid",rounded:"md",children:a[t]}):null};var F=i(71062),P=i(44444),T=i(3495);let H=e=>(0,n.jsx)(T.I,{id:"svg1035",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 374.5 377.3",...e,children:(0,n.jsx)("g",{id:"layer1",transform:"translate(-39.022 -78.115)",children:(0,n.jsxs)("g",{id:"g1016",transform:"translate(-63.947 -88.179)",children:[(0,n.jsx)("path",{id:"path1008",fill:"#00bef2",d:"M290 166.3c.4 0 .8.5 1.4 1.4.5.8 42.6 51.3 93.6 112.2 51 60.9 92.6 111 92.4 111.3-.1.3-40.7 33.6-90.2 73.9s-91.6 74.6-93.5 76.2c-3.3 2.7-3.5 2.8-4.7 1.6-.7-.7-42.9-35.2-93.8-76.7S102.8 390.5 103 390c.2-.5 42-50.4 93.1-111s92.9-110.7 93.1-111.5c.2-.8.5-1.2.8-1.2z"}),(0,n.jsx)("path",{id:"path923",fill:"#fff",stroke:"#fff",strokeWidth:"1.2357",strokeLinecap:"round",strokeLinejoin:"round",d:"M283.1 483.6c-5.8-2.1-12.8-8.1-15.7-13.7-3.6-6.9-3.3-17.7.7-26.3 3.1-6.4 3.1-6.6 1.1-8.1-1.1-.8-14.4-8.2-29.4-16.3-15-8.1-28.1-15.2-29-15.7-1.2-.7-3.2 0-6.8 2.3-11.7 7.4-23.9 6.6-33.5-2.3-6.9-6.4-8.9-10.9-8.9-20.1 0-8.9 1.8-13.5 7.5-19.2 7.7-7.7 18-10.3 27.9-7 5.4 1.8 5.5 1.8 8.9-.8 4-3 36.1-32.3 51.6-47l10.7-10.2-3.2-6.7c-6.5-13.5-3.2-28.5 8.2-37.5 6.2-4.9 10.8-6.4 19.7-6.4 20.8 0 35.3 21.8 27.5 41.3-2.1 5.4-2.1 5.5-.1 8.8 1.7 2.9 30.6 37.8 45.9 55.6 2.7 3.1 5.7 5.6 6.7 5.6s4.4-1 7.6-2.2c14.9-5.9 30.6.7 36.8 15.5 4 9.5.5 22.3-8 30-6 5.4-10.4 7.1-18.4 7.1-5.6 0-7.7-.6-13.6-3.8-4.4-2.4-7.8-3.6-9.2-3.2-2.4.6-39.3 25.9-47.5 32.5-5 4.1-5.4 5.6-2.8 11.7 2.5 6 2.2 15.4-.6 21.3-3.1 6.5-10.8 13-17.5 15-6.8 1.9-10.9 1.9-16.6-.2zm1.7-110.2v-57l-3.2-4.4c-1.8-2.4-3.5-4.4-3.8-4.4-1.3 0-65.9 58.7-65.9 59.9 0 .3 1 3.3 2.2 6.5 1.2 3.3 2.1 8 2 10.7-.1 2.7-.1 5.7-.1 6.7.1 2.3 21.7 16.1 54.1 34.8 8.9 5.2 12 6.5 13.1 5.6 1.3-1.1 1.6-12.2 1.6-58.4zm27.4 50.4c42.8-26.9 50.8-32.3 51.3-34.3.3-1.2.7-5.9.8-10.6l.3-8.4-21.8-25.9c-23.4-27.7-32-37.1-34-37.1-.7 0-4.2 2-7.8 4.4l-6.6 4.4.3 56.9c.3 51 .7 59.6 2.6 59.6.2.1 7-4 14.9-9z"})]})})}),N=e=>(0,n.jsxs)(T.I,{viewBox:"0 0 14222 14222",...e,children:[(0,n.jsx)("circle",{cx:"7111",cy:"7112",r:"7111",fill:"#1977f3"}),(0,n.jsx)("path",{d:"M9879 9168l315-2056H8222V5778c0-562 275-1111 1159-1111h897V2917s-814-139-1592-139c-1624 0-2686 984-2686 2767v1567H4194v2056h1806v4969c362 57 733 86 1111 86s749-30 1111-86V9168z",fill:"#fff"})]}),W=e=>(0,n.jsxs)(T.I,{viewBox:"0 0 256 236",...e,children:[(0,n.jsx)("path",{d:"M128.075 236.075l47.104-144.97H80.97l47.104 144.97z",fill:"#E24329"}),(0,n.jsx)("path",{d:"M128.075 236.074L80.97 91.104H14.956l113.119 144.97z",fill:"#FC6D26"}),(0,n.jsx)("path",{d:"M14.956 91.104L.642 135.16a9.752 9.752 0 0 0 3.542 10.903l123.891 90.012-113.12-144.97z",fill:"#FCA326"}),(0,n.jsx)("path",{d:"M14.956 91.105H80.97L52.601 3.79c-1.46-4.493-7.816-4.492-9.275 0l-28.37 87.315z",fill:"#E24329"}),(0,n.jsx)("path",{d:"M128.075 236.074l47.104-144.97h66.015l-113.12 144.97z",fill:"#FC6D26"}),(0,n.jsx)("path",{d:"M241.194 91.104l14.314 44.056a9.752 9.752 0 0 1-3.543 10.903l-123.89 90.012 113.119-144.97z",fill:"#FCA326"}),(0,n.jsx)("path",{d:"M241.194 91.105h-66.015l28.37-87.315c1.46-4.493 7.816-4.492 9.275 0l28.37 87.315z",fill:"#E24329"})]}),$=e=>(0,n.jsxs)(T.I,{viewBox:"0 0 1024 1024",...e,children:[(0,n.jsx)("circle",{cx:"512",cy:"512",r:"512",fill:"#008aaa"}),(0,n.jsx)("path",{d:"M786.2 395.5h-80.6c-1.5 0-3-.8-3.7-2.1l-64.7-112.2c-.8-1.3-2.2-2.1-3.8-2.1h-264c-1.5 0-3 .8-3.7 2.1l-67.3 116.4-64.8 112.2c-.7 1.3-.7 2.9 0 4.3l64.8 112.2 67.2 116.5c.7 1.3 2.2 2.2 3.7 2.1h264.1c1.5 0 3-.8 3.8-2.1L702 630.6c.7-1.3 2.2-2.2 3.7-2.1h80.6c2.7 0 4.8-2.2 4.8-4.8V400.4c-.1-2.7-2.3-4.9-4.9-4.9zM477.5 630.6l-20.3 35c-.3.5-.8 1-1.3 1.3-.6.3-1.2.5-1.9.5h-40.3c-1.4 0-2.7-.7-3.3-2l-60.1-104.3-5.9-10.3-21.6-36.9c-.3-.5-.5-1.1-.4-1.8 0-.6.2-1.3.5-1.8l21.7-37.6 65.9-114c.7-1.2 2-2 3.3-2H454c.7 0 1.4.2 2.1.5.5.3 1 .7 1.3 1.3l20.3 35.2c.6 1.2.5 2.7-.2 3.8l-65.1 112.8c-.3.5-.4 1.1-.4 1.6 0 .6.2 1.1.4 1.6l65.1 112.7c.9 1.5.8 3.1 0 4.4zm202.1-116.7L658 550.8l-5.9 10.3L592 665.4c-.7 1.2-1.9 2-3.3 2h-40.3c-.7 0-1.3-.2-1.9-.5-.5-.3-1-.7-1.3-1.3l-20.3-35c-.9-1.3-.9-2.9-.1-4.2l65.1-112.7c.3-.5.4-1.1.4-1.6 0-.6-.2-1.1-.4-1.6l-65.1-112.8c-.7-1.2-.8-2.6-.2-3.8l20.3-35.2c.3-.5.8-1 1.3-1.3.6-.4 1.3-.5 2.1-.5h40.4c1.4 0 2.7.7 3.3 2l65.9 114 21.7 37.6c.3.6.5 1.2.5 1.8 0 .4-.2 1-.5 1.6z",fill:"#fff"})]});var J=i(2283),O=i(97036);let U=e=>{let{providers:t}=e,{t:i}=(0,u.WD)(),{query:a}=(0,h.useRouter)(),{status:l}=(0,C.wV)(),[s,o]=(0,B.useState)(),c=async e=>{var t,i;o(e),await (0,C.Jv)(e,{callbackUrl:null!=(i=null==(t=a.callbackUrl)?void 0:t.toString())?i:"/typebots?".concat((0,O.stringify)((0,J.cJ)(a,"error","callbackUrl")))}),setTimeout(()=>o(void 0),3e3)};return(0,n.jsxs)(r.B,{children:[(null==t?void 0:t.github)&&(0,n.jsx)(m.$,{leftIcon:(0,n.jsx)(P.Nb,{}),onClick:()=>c("github"),"data-testid":"github",isLoading:["loading","authenticated"].includes(l)||"github"===s,variant:"outline",children:i("auth.socialLogin.githubButton.label")}),(null==t?void 0:t.google)&&(0,n.jsx)(m.$,{leftIcon:(0,n.jsx)(F.J,{}),onClick:()=>c("google"),"data-testid":"google",isLoading:["loading","authenticated"].includes(l)||"google"===s,variant:"outline",children:i("auth.socialLogin.googleButton.label")}),(null==t?void 0:t.facebook)&&(0,n.jsx)(m.$,{leftIcon:(0,n.jsx)(N,{}),onClick:()=>c("facebook"),"data-testid":"facebook",isLoading:["loading","authenticated"].includes(l)||"facebook"===s,variant:"outline",children:i("auth.socialLogin.facebookButton.label")}),(null==t?void 0:t.gitlab)&&(0,n.jsx)(m.$,{leftIcon:(0,n.jsx)(W,{}),onClick:()=>c("gitlab"),"data-testid":"gitlab",isLoading:["loading","authenticated"].includes(l)||"gitlab"===s,variant:"outline",children:i("auth.socialLogin.gitlabButton.label",{gitlabProviderName:t.gitlab.name})}),(null==t?void 0:t["microsoft-entra-id"])&&(0,n.jsx)(m.$,{leftIcon:(0,n.jsx)(H,{}),onClick:()=>c("microsoft-entra-id"),"data-testid":"microsoft-entra-id",isLoading:["loading","authenticated"].includes(l)||"microsoft-entra-id"===s,variant:"outline",children:i("auth.socialLogin.azureButton.label",{azureProviderName:t["microsoft-entra-id"].name})}),(null==t?void 0:t["custom-oauth"])&&(0,n.jsx)(m.$,{onClick:()=>c("custom-oauth"),isLoading:["loading","authenticated"].includes(l)||"custom-oauth"===s,variant:"outline",children:i("auth.socialLogin.customButton.label",{customProviderName:t["custom-oauth"].name})}),(null==t?void 0:t.keycloak)&&(0,n.jsx)(m.$,{leftIcon:(0,n.jsx)($,{}),onClick:()=>c("keycloak"),"data-testid":"keycloak",isLoading:["loading","authenticated"].includes(l)||"keycloak"===s,variant:"outline",children:i("auth.socialLogin.keycloakButton.label")})]})},V=e=>{let{defaultEmail:t}=e,{t:i}=(0,u.WD)(),a=(0,M.useRouter)(),[o,c]=(0,z.ZA)("error"),[h]=(0,z.ZA)("redirectPath"),{status:A}=(0,C.wV)(),[I,S]=(0,B.useState)(!1),[F,P]=(0,B.useState)(!0),[T,H]=(0,B.useState)(null!=t?t:""),[N,W]=(0,B.useState)(!1),[$,J]=(0,B.useState)(),O=!F&&0===Object.keys(null!=$?$:{}).length;(0,B.useEffect)(()=>{if("authenticated"===A)return void a.replace(h?(0,x.J)(h):"/typebots");(async()=>{let e=await (0,C.Z3)();J(null!=e?e:void 0),P(!1)})()},[A,a]),(0,B.useEffect)(()=>{"ip-banned"===o&&(0,g.o)({status:"info",description:"Your account has suspicious activity and is being reviewed by our team. Feel free to contact us."})},[o]);let V=async e=>{if(e.preventDefault(),c(null),!N){S(!0);try{let e=await (0,C.Jv)("nodemailer",{email:T,redirect:!1});(null==e?void 0:e.error)?e.error.includes("too-many-requests")?(0,g.o)({status:"info",description:i("auth.signinErrorToast.tooManyRequests")}):e.error.includes("sign-up-disabled")?(0,g.o)({status:"info",description:i("auth.signinErrorToast.title")}):e.error.includes("email-not-legit")?(0,g.o)({description:"Please use a valid email address"}):(0,g.o)({description:i("errorMessage"),details:"Check server logs to see relevent error message."}):W(!0)}catch(e){(0,g.o)({status:"info",description:"An error occured while signing in"})}S(!1)}};return F?(0,n.jsx)(f.y,{}):O?(0,n.jsxs)(d.E,{children:[i("auth.noProvider.preLink")," ",(0,n.jsx)(l.Y,{href:"https://docs.typebot.io/self-hosting/configuration",isExternal:!0,children:i("auth.noProvider.link")})]}):(0,n.jsxs)(r.B,{spacing:"6",w:"330px",children:[!N&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U,{providers:$}),(null==$?void 0:$.nodemailer)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{children:i("auth.orEmailLabel")}),(0,n.jsxs)(j.z,{as:"form",onSubmit:V,children:[(0,n.jsx)(p.p,{name:"email",type:"email",autoComplete:"email",placeholder:"email@company.com",required:!0,value:T,onChange:e=>H(e.target.value)}),(0,n.jsx)(m.$,{type:"submit",isLoading:["loading","authenticated"].includes(A)||I,isDisabled:N,children:i("auth.emailSubmitButton.label")})]})]})]}),(0,n.jsx)(b.s,{offsetY:"20px",in:N,unmountOnExit:!0,children:(0,n.jsxs)(r.B,{spacing:3,children:[(0,n.jsx)(v.F,{status:"success",w:"100%",children:(0,n.jsxs)(j.z,{children:[(0,n.jsx)(y._,{}),(0,n.jsxs)(r.B,{spacing:1,children:[(0,n.jsx)(d.E,{fontWeight:"medium",children:i("auth.magicLink.title")}),(0,n.jsx)(d.E,{fontSize:"sm",children:i("auth.magicLink.description")})]})]})}),(0,n.jsxs)(k.MJ,{as:s.T,spacing:0,children:[(0,n.jsx)(L.l,{children:"Login code:"}),(0,n.jsx)(j.z,{children:(0,n.jsxs)(w.c,{onComplete:e=>{window.location.assign((0,E.e)(e,T,null!=h?h:void 0))},children:[(0,n.jsx)(w.M,{}),(0,n.jsx)(w.M,{}),(0,n.jsx)(w.M,{}),(0,n.jsx)(w.M,{}),(0,n.jsx)(w.M,{}),(0,n.jsx)(w.M,{})]})})]})]})}),o&&(0,n.jsx)(_,{error:o})]})},Y=e=>{var t;let{type:i}=e,{t:g}=(0,u.WD)(),{query:x}=(0,h.useRouter)();return(0,n.jsxs)(s.T,{spacing:4,h:"100vh",justifyContent:"center",children:[(0,n.jsx)(a.G,{title:g("signin"===i?"auth.signin.heading":"auth.register.heading")}),(0,n.jsxs)(r.B,{bgColor:(0,o.dU)("white","gray.900"),p:8,rounded:"lg",spacing:6,children:[(0,n.jsxs)(r.B,{gap:4,children:[(0,n.jsx)(c.D,{children:g("signin"===i?"auth.signin.heading":"auth.register.heading")}),"signin"===i?(0,n.jsxs)(d.E,{children:[g("auth.signin.noAccountLabel.preLink")," ",(0,n.jsx)(l.Y,{href:"/register",children:g("auth.signin.noAccountLabel.link")})]}):(0,n.jsxs)(d.E,{children:[g("auth.register.alreadyHaveAccountLabel.preLink")," ",(0,n.jsx)(l.Y,{href:"/signin",children:g("auth.register.alreadyHaveAccountLabel.link")})]})]}),(0,n.jsx)(V,{defaultEmail:null==(t=x.g)?void 0:t.toString()})]})]})}},98965:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});var n=i(6029);i(10548);var a=i(95669),l=i.n(a);let s=()=>window.location.origin,r=e=>{let{title:t,description:i="Create and publish conversational forms that collect 4 times more answers and feel native to your product",imagePreviewUrl:a="".concat(s(),"/images/og.png")}=e,r="".concat(t," | Typebot");return(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:r}),(0,n.jsx)("meta",{name:"title",content:t}),(0,n.jsx)("meta",{property:"og:title",content:t}),(0,n.jsx)("meta",{property:"twitter:title",content:t}),(0,n.jsx)("meta",{name:"description",content:i}),(0,n.jsx)("meta",{property:"twitter:description",content:i}),(0,n.jsx)("meta",{property:"og:description",content:i}),(0,n.jsx)("meta",{property:"og:image",content:a}),(0,n.jsx)("meta",{property:"twitter:image",content:a}),(0,n.jsx)("meta",{property:"og:type",content:"website"}),(0,n.jsx)("meta",{property:"twitter:card",content:"summary_large_image"})]})}}}]);