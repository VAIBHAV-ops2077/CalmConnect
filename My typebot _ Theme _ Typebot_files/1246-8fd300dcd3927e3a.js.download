try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="046f6f61-e8e9-4d29-b6f3-71ca2655e4cd",e._sentryDebugIdIdentifier="sentry-dbid-046f6f61-e8e9-4d29-b6f3-71ca2655e4cd")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1246],{5052:(e,t,n)=>{"use strict";n.d(t,{Gn:()=>s,mp:()=>r,nE:()=>i,qC:()=>l});var o=n(57987),[r,s]=(0,o.q)({name:"EditableStylesContext",errorMessage:"useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Editable />\" "}),[l,i]=(0,o.q)({name:"EditableContext",errorMessage:"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"})},18143:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var o=n(6029),r=n(44444),s=n(49942),l=n(4227);let i=e=>{let{plan:t,...n}=e;return(0,o.jsx)(s.vw,{colorScheme:t?l.r[t]:"gray","data-testid":"".concat(null==t?void 0:t.toLowerCase(),"-lock-tag"),...n,children:(0,o.jsx)(r.c2,{})})}},25942:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var o=n(59309),r=n(12482);let s=e=>{let{folderId:t,workspaceId:n}=e,{data:s,isLoading:l,refetch:i}=(0,r.I)(o.id.typebot.listTypebots.queryOptions({workspaceId:n,folderId:t},{enabled:!!n}));return{typebots:null==s?void 0:s.typebots,isLoading:l,refetch:i}}},28122:(e,t,n)=>{"use strict";n.d(t,{o:()=>ed});var o=n(6029),r=n(25942),s=n(47827),l=n(59309),i=n(20873),a=n(60945),d=n(49377),c=n(29328),u=n(81251),p=n(85678),x=n(28144),m=n(39199),b=n(8972),f=n(12482),y=n(16932),h=n(55729),g=n(35663),j=n(44444),v=n(22070),w=n(90944),C=n(82203),E=n.n(C);let k=e=>{let{id:t}=e,{t:n}=(0,w.WD)(),{draggedTypebot:r,setMouseOverFolderId:s,mouseOverFolderId:l}=(0,g.v)(),i=(0,h.useMemo)(()=>r&&l===t,[r,t,l]);return(0,o.jsx)(v.$,{as:E(),href:t?"/typebots/folders/".concat(t):"/typebots",leftIcon:(0,o.jsx)(j.YJ,{}),variant:"outline",colorScheme:i||r?"orange":"gray",borderWidth:i?"2px":"1px",onMouseEnter:()=>s(t),onMouseLeave:()=>s(void 0),children:n("back")})};var S=n(9541),I=n(94283),T=n(81278),B=n(97036);let L=e=>{let{folderId:t,...n}=e,{t:r}=(0,w.WD)(),s=(0,T.useRouter)(),{draggedTypebot:l}=(0,g.v)();return(0,o.jsx)(v.$,{style:{width:"225px",height:"270px"},onClick:()=>s.push("/typebots/create?".concat((0,B.stringify)({folderId:t}))),paddingX:6,whiteSpace:"normal",colorScheme:"orange",opacity:l?.3:1,...n,children:(0,o.jsxs)(S.T,{spacing:"6",children:[(0,o.jsx)(j.c1,{fontSize:"40px"}),(0,o.jsx)(I.E,{fontSize:18,fontWeight:"medium",maxW:40,textAlign:"center",mt:"6",children:r("folders.createTypebotButton.label")})]})})};var D=n(996),F=n(18143),R=n(90218),_=n(15131),M=n(13808);let N=e=>{let{isLoading:t,onClick:n}=e,{t:r}=(0,w.WD)(),{workspace:l}=(0,s.h)(),{isOpen:i,onOpen:a,onClose:d}=(0,_.j)();return(0,o.jsxs)(v.$,{leftIcon:(0,o.jsx)(j.YP,{color:"blue.500"}),onClick:()=>{if((0,R._)(l))return a();n()},isLoading:t,colorScheme:"white",children:[(0,o.jsxs)(x.z,{children:[(0,o.jsx)(I.E,{children:r("folders.createFolderButton.label")}),(0,R._)(l)&&(0,o.jsx)(F.y,{plan:M.cw.STARTER})]}),(0,o.jsx)(D.L,{isOpen:i,onClose:d,type:r("billing.limitMessage.folder")})]})};var O=n(27501),P=n(90869),z=n(79596),W=n(1069),H=n(58972),U=n(20644),q=n(15281),K=n(63015),A=n(38831),X=n(78334),$=n(38859),G=n(70205),J=n(94858),V=n(8121);let Y=()=>(0,o.jsx)(v.$,{as:S.T,style:{width:"225px",height:"270px"},paddingX:6,whiteSpace:"normal",pos:"relative",cursor:"pointer",variant:"outline",children:(0,o.jsxs)(S.T,{spacing:"6",w:"full",children:[(0,o.jsx)(J.Q,{boxSize:"45px"}),(0,o.jsx)(V.r,{noOfLines:2,w:"full"})]})}),Q=(0,h.memo)(e=>{let{folder:t,index:n,onFolderDeleted:r,onFolderRenamed:s}=e,{t:a}=(0,w.WD)(),d=(0,T.useRouter)(),{draggedTypebot:u,setMouseOverFolderId:p,mouseOverFolderId:x}=(0,g.v)(),b=(0,h.useMemo)(()=>u&&x===t.id,[u,t.id,x]),{isOpen:f,onOpen:C,onClose:E}=(0,_.j)(),{mutate:k}=(0,y.n)(l.id.folders.deleteFolder.mutationOptions({onError:e=>{(0,i.o)({description:e.message})},onSuccess:r})),{mutate:B}=(0,y.n)(l.id.folders.updateFolder.mutationOptions({onError:e=>{(0,i.o)({description:e.message})},onSuccess:s})),L=async e=>{""!==e&&e!==t.name&&B({workspaceId:t.workspaceId,folderId:t.id,folder:{name:e}})};return(0,o.jsxs)(v.$,{as:m.Q,style:{width:"225px",height:"270px"},paddingX:6,whiteSpace:"normal",pos:"relative",cursor:"pointer",variant:"outline",bg:(0,P.dU)("white","gray.900"),colorScheme:b||u?"orange":"gray",borderWidth:b?"2px":"1px",transition:"border-width 0.1s ease",justifyContent:"center",onClick:()=>{d.push("/typebots/folders/".concat(t.id))},onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(void 0),children:[(0,o.jsxs)(z.W,{children:[(0,o.jsx)(W.I,{as:H.K,icon:(0,o.jsx)(j.FH,{}),"aria-label":"Show ".concat(t.name," menu"),onClick:e=>e.stopPropagation(),colorScheme:"gray",variant:"outline",size:"sm",pos:"absolute",top:"5",right:"5"}),(0,o.jsx)(U.c,{children:(0,o.jsx)(q.D,{color:"red",onClick:e=>{e.stopPropagation(),C()},children:a("delete")})})]}),(0,o.jsxs)(S.T,{spacing:"4",children:[(0,o.jsx)(j.sj,{fontSize:50,color:(0,P.dU)("blue.500","blue.400")}),(0,o.jsxs)(K.F,{defaultValue:""===t.name?"New folder":t.name,fontSize:"18",onClick:e=>e.stopPropagation(),onSubmit:L,startWithEditView:0===n&&""===t.name,children:[(0,o.jsx)(A.l,{_hover:{bg:(0,P.dU)("gray.100","gray.700")},px:"2",textAlign:"center"}),(0,o.jsx)(X.j,{textAlign:"center"})]})]}),(0,o.jsx)(O.u,{isOpen:f,onClose:E,confirmButtonLabel:a("delete"),message:(0,o.jsxs)(c.B,{spacing:"4",children:[(0,o.jsx)(I.E,{children:(0,o.jsx)(w.T,{keyName:"folders.folderButton.deleteConfirmationMessage",params:{strong:(0,o.jsx)("strong",{children:t.name})}})}),(0,o.jsxs)($.F,{status:"warning",children:[(0,o.jsx)(G._,{}),a("folders.folderButton.deleteConfirmationMessageWarning")]})]}),title:"".concat(a("delete")," ").concat(t.name,"?"),onConfirm:()=>k({workspaceId:t.workspaceId,folderId:t.id}),confirmButtonColor:"red"})]})},(e,t)=>e.folder.id===t.folder.id&&e.index===t.index&&e.folder.name===t.folder.name);var Z=n(48077),ee=n(35098);let et=e=>{let t=e.match(/^(.*) \((\d+)\)$/);if(!t)return"".concat(e," (1)");let[,n,o]=t;return"".concat(n," (").concat(Number(o)+1,")")},en=window.matchMedia("only screen and (max-width: 760px)").matches;var eo=n(49942),er=n(82626);let es=e=>{let{children:t,...n}=e;return(0,o.jsxs)(z.W,{isLazy:!0,children:[(0,o.jsx)(W.I,{"data-testid":"more-button",as:H.K,icon:(0,o.jsx)(j.FH,{}),onClick:e=>e.stopPropagation(),colorScheme:"gray",variant:"outline",size:"sm",...n}),(0,o.jsx)(U.c,{children:t})]})},el=(0,h.memo)(e=>{let{typebot:t,isReadOnly:n=!1,draggedTypebot:r,onTypebotUpdated:s,onDrag:a}=e,{t:u}=(0,w.WD)(),p=(0,T.useRouter)(),[x]=(0,er.d7)(r,200),{isOpen:b,onOpen:f,onClose:g}=(0,_.j)(),C=h.useRef(null);(0,ee.Lt)({ref:C,onDrag:a,deps:[]});let{mutate:E}=(0,y.n)(l.id.typebot.importTypebot.mutationOptions({onError:e=>{(0,i.o)({description:e.message})},onSuccess:e=>{let{typebot:t}=e;p.push("/typebots/".concat(t.id,"/edit"))}})),{mutate:k}=(0,y.n)(l.id.typebot.deleteTypebot.mutationOptions({onError:e=>{(0,i.o)({description:e.message})},onSuccess:()=>{s()}})),{mutate:B}=(0,y.n)(l.id.typebot.unpublishTypebot.mutationOptions({onError:e=>{(0,i.o)({description:e.message})},onSuccess:()=>{s()}})),L=async()=>{n||k({typebotId:t.id})},D=async e=>{e.stopPropagation();let{typebot:n}=await l.rP.typebot.getTypebot.query({typebotId:t.id});n&&E({workspaceId:n.workspaceId,typebot:{...n,name:et(n.name)}})},F=async e=>{e.stopPropagation(),t.publishedTypebotId&&B({typebotId:t.id})};return(0,o.jsxs)(v.$,{ref:C,as:m.Q,onClick:()=>{x||p.push(en?"/typebots/".concat(t.id,"/results"):"/typebots/".concat(t.id,"/edit"))},display:"flex",flexDir:"column",variant:"outline",w:"225px",h:"270px",rounded:"lg",whiteSpace:"normal",opacity:r?.3:1,cursor:"pointer",bgColor:(0,P.dU)("white","gray.900"),children:[t.publishedTypebotId&&(0,o.jsx)(eo.vw,{colorScheme:"orange",variant:"solid",rounded:"full",pos:"absolute",top:"27px",size:"sm",children:u("folders.typebotButton.live")}),!n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(H.K,{icon:(0,o.jsx)(j.sX,{}),pos:"absolute",top:"20px",left:"20px","aria-label":"Drag",cursor:"grab",variant:"ghost",colorScheme:"orange",size:"sm"}),(0,o.jsxs)(es,{pos:"absolute",top:"20px",right:"20px","aria-label":u("folders.typebotButton.showMoreOptions"),children:[t.publishedTypebotId&&(0,o.jsx)(q.D,{onClick:F,children:u("folders.typebotButton.unpublish")}),(0,o.jsx)(q.D,{onClick:D,children:u("folders.typebotButton.duplicate")}),(0,o.jsx)(q.D,{color:"red.400",onClick:e=>{e.stopPropagation(),f()},children:u("folders.typebotButton.delete")})]})]}),(0,o.jsxs)(S.T,{spacing:"4",children:[(0,o.jsx)(d.s,{rounded:"full",justifyContent:"center",alignItems:"center",fontSize:"4xl",children:(0,o.jsx)(Z.e,{icon:t.icon,boxSize:"35px"})}),(0,o.jsx)(I.E,{textAlign:"center",noOfLines:4,maxW:"180px",children:t.name})]}),!n&&(0,o.jsx)(O.u,{message:(0,o.jsxs)(c.B,{spacing:"4",children:[(0,o.jsx)(I.E,{children:(0,o.jsx)(w.T,{keyName:"folders.typebotButton.deleteConfirmationMessage",params:{strong:(0,o.jsx)("strong",{children:t.name})}})}),(0,o.jsxs)($.F,{status:"warning",children:[(0,o.jsx)(G._,{}),u("folders.typebotButton.deleteConfirmationMessageWarning")]})]}),confirmButtonLabel:u("delete"),onConfirm:L,isOpen:b,onClose:g})]})},(e,t)=>{var n,o;return(null==(n=e.draggedTypebot)?void 0:n.id)===(null==(o=t.draggedTypebot)?void 0:o.id)&&e.typebot.id===t.typebot.id&&e.isReadOnly===t.isReadOnly&&e.typebot.name===t.typebot.name&&e.typebot.icon===t.typebot.icon&&e.typebot.publishedTypebotId===t.typebot.publishedTypebotId});var ei=n(66425);let ea=e=>{let{typebot:t,...n}=e;return(0,o.jsx)(ei.az,{display:"flex",flexDir:"column",variant:"outline",justifyContent:"center",w:"225px",h:"270px",whiteSpace:"normal",transition:"none",pointerEvents:"none",borderWidth:1,rounded:"md",bgColor:(0,P.dU)("white","gray.700"),shadow:"md",opacity:.7,...n,children:(0,o.jsxs)(S.T,{spacing:4,children:[(0,o.jsx)(d.s,{rounded:"full",justifyContent:"center",alignItems:"center",fontSize:"4xl",children:(0,o.jsx)(Z.e,{icon:t.icon,boxSize:"35px"})}),(0,o.jsx)(I.E,{children:t.name})]})})},ed=e=>{let{folder:t}=e,{workspace:n,currentUserMode:j}=(0,s.h)(),[v,w]=(0,h.useState)(!1),{setDraggedTypebot:C,draggedTypebot:E,mouseOverFolderId:S,setMouseOverFolderId:I}=(0,g.v)(),[T,B]=(0,h.useState)({x:0,y:0}),[D,F]=(0,h.useState)({x:0,y:0}),{data:{folders:R}={},isLoading:_,refetch:M}=(0,f.I)(l.id.folders.listFolders.queryOptions({workspaceId:null==n?void 0:n.id,parentFolderId:null==t?void 0:t.id},{enabled:!!n})),{mutate:O}=(0,y.n)(l.id.folders.createFolder.mutationOptions({onError:e=>{(0,i.o)({description:e.message})},onSuccess:()=>{M()}})),{mutate:P}=(0,y.n)(l.id.typebot.updateTypebot.mutationOptions({onError:e=>{(0,i.o)({description:e.message})},onSuccess:()=>{H()}})),{typebots:z,isLoading:W,refetch:H}=(0,r.U)({workspaceId:null==n?void 0:n.id,folderId:null===t?"root":t.id}),U=async(e,t)=>{z&&P({typebotId:e,typebot:{folderId:"root"===t?null:t}})},q=async()=>{void 0!==S&&E&&await U(E.id,null!=S?S:"root"),I(void 0),C(void 0)};(0,a.M)("mouseup",q);let K=e=>t=>{let{absolute:n,relative:o}=t;E||(F(o),B({x:n.x-o.x,y:n.y-o.y}),C(e))};return(0,a.M)("mousemove",e=>{if(!E)return;let{clientX:t,clientY:n}=e;B({x:t-D.x,y:n-D.y})}),(0,h.useEffect)(()=>{if(!T||!E)return;let{innerHeight:e}=window,t=T.y+D.y,n=t<50?-10:10*(t>e-50);window.scrollBy(0,n);let o=setInterval(()=>{window.scrollBy(0,n)},5);return()=>{clearInterval(o)}},[T,E,D]),(0,o.jsxs)(d.s,{w:"full",flex:"1",justify:"center",children:[(0,o.jsxs)(c.B,{w:"1000px",spacing:6,pt:"4",children:[(0,o.jsx)(u.E,{isLoaded:(null==t?void 0:t.name)!==void 0,children:(0,o.jsx)(p.D,{as:"h1",children:null==t?void 0:t.name})}),(0,o.jsxs)(c.B,{children:[(0,o.jsxs)(x.z,{children:[t&&(0,o.jsx)(k,{id:t.parentFolderId}),"guest"!==j&&(0,o.jsx)(N,{onClick:()=>{R&&n&&(w(!0),O({workspaceId:n.id,parentFolderId:null==t?void 0:t.id}),w(!1))},isLoading:v||_})]}),(0,o.jsxs)(m.B,{spacing:4,children:["guest"!==j&&(0,o.jsx)(L,{folderId:null==t?void 0:t.id,isLoading:W}),_&&(0,o.jsx)(Y,{}),R&&R.map((e,t)=>(0,o.jsx)(Q,{index:t,folder:e,onFolderDeleted:M,onFolderRenamed:()=>M()},e.id)),W&&(0,o.jsx)(Y,{}),z&&z.map(e=>(0,o.jsx)(el,{typebot:e,draggedTypebot:E,onTypebotUpdated:H,onDrag:K(e),isReadOnly:"write"!==e.accessRight},e.id))]})]})]}),E&&(0,o.jsx)(b.Z,{children:(0,o.jsx)(ea,{typebot:E,onMouseUp:q,pos:"fixed",top:"0",left:"0",style:{transform:"translate(".concat(T.x,"px, ").concat(T.y,"px) rotate(-2deg)")},transformOrigin:"0 0 0"})})]})}},35098:(e,t,n)=>{"use strict";n.d(t,{Gj:()=>l,Lt:()=>i,ZV:()=>a,jh:()=>d});var o=n(6029),r=n(55729);let s=(0,r.createContext)({}),l=e=>{let{children:t}=e,[n,l]=(0,r.useState)(),[i,a]=(0,r.useState)(),[d,c]=(0,r.useState)(),[u,p]=(0,r.useState)(),[x,m]=(0,r.useState)(),[b,f]=(0,r.useState)();return(0,o.jsx)(s.Provider,{value:{draggedBlock:n,setDraggedBlock:l,draggedBlockType:i,setDraggedBlockType:a,draggedItem:d,setDraggedItem:c,mouseOverGroup:x,setMouseOverGroup:m,mouseOverBlock:b,setMouseOverBlock:f,draggedEventType:u,setDraggedEventType:p},children:t})},i=e=>{let{ref:t,onDrag:n,distanceTolerance:o=20,isDisabled:s=!1,deps:l=[]}=e,i=(0,r.useRef)(),a=(0,r.useCallback)(()=>{i.current&&(i.current=void 0)},[]);(0,r.useEffect)(()=>(window.addEventListener("mouseup",a),()=>{window.removeEventListener("mouseup",a)}),[a]),(0,r.useEffect)(()=>{var e;let n=e=>{if(s||!t.current)return;e.stopPropagation();let{top:n,left:o}=t.current.getBoundingClientRect();i.current={absolute:{x:e.clientX,y:e.clientY},relative:{x:e.clientX-o,y:e.clientY-n}}};return null==(e=t.current)||e.addEventListener("mousedown",n),()=>{var e;null==(e=t.current)||e.removeEventListener("mousedown",n)}},[s,...l]),(0,r.useEffect)(()=>{let e=!1,t=t=>{if(!i.current||e)return;let r=t.target;if("INPUT"===r.tagName||"TEXTAREA"===r.tagName||"SELECT"===r.tagName||"true"===r.contentEditable||r.closest("[contenteditable=true]"))return;let{clientX:s,clientY:l}=t;(Math.abs(i.current.absolute.x-s)>o||Math.abs(i.current.absolute.y-l)>o)&&(e=!0,n(i.current))};return document.addEventListener("mousemove",t),()=>{document.removeEventListener("mousemove",t)}},[o,n])},a=(e,t)=>{let{closestIndex:n}=t.current.reduce((t,n,o)=>{let r=Math.abs(e-n.getBoundingClientRect().top);return r<t.value?{closestIndex:o,value:r}:t},{closestIndex:0,value:0xe8d4a50fff});return n},d=()=>(0,r.useContext)(s)},35663:(e,t,n)=>{"use strict";n.d(t,{B:()=>l,v:()=>i});var o=n(6029),r=n(55729);let s=(0,r.createContext)({}),l=e=>{let{children:t}=e,[n,l]=(0,r.useState)(),[i,a]=(0,r.useState)();return(0,r.useEffect)(()=>{n?document.body.classList.add("grabbing"):document.body.classList.remove("grabbing")},[n]),(0,o.jsx)(s.Provider,{value:{draggedTypebot:n,setDraggedTypebot:l,mouseOverFolderId:i,setMouseOverFolderId:a},children:t})},i=()=>(0,r.useContext)(s)},38831:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var o=n(92961),r=n(5052),s=n(8749),l=n(64660),i=n(55685),a=n(6029),d=(0,s.R)(function(e,t){let{getPreviewProps:n}=(0,r.nE)(),s=(0,r.Gn)(),d=n(e,t),c=(0,i.cx)("chakra-editable__preview",e.className);return(0,a.jsx)(l.B.span,{...d,__css:{cursor:"text",display:"inline-block",...o.s,...s.preview},className:c})});d.displayName="EditablePreview"},60945:(e,t,n)=>{"use strict";n.d(t,{M:()=>l});var o=n(88406),r=n(88044),s=n(55729);function l(e,t,n,l){let i=(0,o.c)(t);return(0,s.useEffect)(()=>{var o;let s=null!=(o=(0,r.Jg)(n))?o:document;if(t)return s.addEventListener(e,i,l),()=>{s.removeEventListener(e,i,l)}},[e,n,l,i,t]),()=>{var t;(null!=(t=(0,r.Jg)(n))?t:document).removeEventListener(e,i,l)}}},63015:(e,t,n)=>{"use strict";n.d(t,{F:()=>h});var o=n(24843),r=n(68628),s=n(4124),l=n(47031),i=n(65789),a=n(24615),d=n(55685),c=n(55729);function u(e,t){return!!e&&(e===t||e.contains(t))}var p=n(5052),x=n(8749),m=n(20462),b=n(96529),f=n(64660),y=n(6029),h=(0,x.R)(function(e,t){let n=(0,m.o5)("Editable",e),{htmlProps:x,...h}=function(e={}){let{onChange:t,onCancel:n,onSubmit:p,onBlur:x,value:m,isDisabled:b,defaultValue:f,startWithEditView:y,isPreviewFocusable:h=!0,submitOnBlur:g=!0,selectAllOnFocus:j=!0,placeholder:v,onEdit:w,finalFocusRef:C,...E}=e,k=(0,a.c)(w),S=!!(y&&!b),[I,T]=(0,c.useState)(S),[B,L]=(0,l.i)({defaultValue:f||"",value:m,onChange:t}),[D,F]=(0,c.useState)(B),R=(0,c.useRef)(null),_=(0,c.useRef)(null),M=(0,c.useRef)(null),N=(0,c.useRef)(null),O=(0,c.useRef)(null);(0,o.S)({ref:R,enabled:I,elements:[N,O]});let P=!I&&!b;(0,r.U)(()=>{var e,t;I&&(null==(e=R.current)||e.focus(),j&&(null==(t=R.current)||t.select()))},[]),(0,s.w)(()=>{var e,t,n,o;if(!I)return void(C?null==(e=C.current)||e.focus():null==(t=M.current)||t.focus());null==(n=R.current)||n.focus(),j&&(null==(o=R.current)||o.select()),null==k||k()},[I,k,j]);let z=(0,c.useCallback)(()=>{P&&T(!0)},[P]),W=(0,c.useCallback)(()=>{F(B)},[B]),H=(0,c.useCallback)(()=>{T(!1),L(D),null==n||n(D),null==x||x(D)},[n,x,L,D]),U=(0,c.useCallback)(()=>{T(!1),F(B),null==p||p(B),null==x||x(D)},[B,p,x,D]);(0,c.useEffect)(()=>{if(I)return;let e=R.current;(null==e?void 0:e.ownerDocument.activeElement)===e&&(null==e||e.blur())},[I]);let q=(0,c.useCallback)(e=>{L(e.currentTarget.value)},[L]),K=(0,c.useCallback)(e=>{let t={Escape:H,Enter:e=>{e.shiftKey||e.metaKey||U()}}[e.key];t&&(e.preventDefault(),t(e))},[H,U]),A=(0,c.useCallback)(e=>{let t={Escape:H}[e.key];t&&(e.preventDefault(),t(e))},[H]),X=0===B.length,$=(0,c.useCallback)(e=>{var t;if(!I)return;let n=e.currentTarget.ownerDocument,o=null!=(t=e.relatedTarget)?t:n.activeElement,r=u(N.current,o),s=u(O.current,o);r||s||(g?U():H())},[g,U,H,I]),G=(0,c.useCallback)((e={},t=null)=>{let n=P&&h?0:void 0;return{...e,ref:(0,i.Px)(t,_),children:X?v:B,hidden:I,"aria-disabled":(0,d.rq)(b),tabIndex:n,onFocus:(0,d.Hj)(e.onFocus,z,W)}},[b,I,P,h,X,z,W,v,B]),J=(0,c.useCallback)((e={},t=null)=>({...e,hidden:!I,placeholder:v,ref:(0,i.Px)(t,R),disabled:b,"aria-disabled":(0,d.rq)(b),value:B,onBlur:(0,d.Hj)(e.onBlur,$),onChange:(0,d.Hj)(e.onChange,q),onKeyDown:(0,d.Hj)(e.onKeyDown,K),onFocus:(0,d.Hj)(e.onFocus,W)}),[b,I,$,q,K,W,v,B]),V=(0,c.useCallback)((e={},t=null)=>({...e,hidden:!I,placeholder:v,ref:(0,i.Px)(t,R),disabled:b,"aria-disabled":(0,d.rq)(b),value:B,onBlur:(0,d.Hj)(e.onBlur,$),onChange:(0,d.Hj)(e.onChange,q),onKeyDown:(0,d.Hj)(e.onKeyDown,A),onFocus:(0,d.Hj)(e.onFocus,W)}),[b,I,$,q,A,W,v,B]),Y=(0,c.useCallback)((e={},t=null)=>({"aria-label":"Edit",...e,type:"button",onClick:(0,d.Hj)(e.onClick,z),ref:(0,i.Px)(t,M),disabled:b}),[z,b]),Q=(0,c.useCallback)((e={},t=null)=>({...e,"aria-label":"Submit",ref:(0,i.Px)(O,t),type:"button",onClick:(0,d.Hj)(e.onClick,U),disabled:b}),[U,b]),Z=(0,c.useCallback)((e={},t=null)=>({"aria-label":"Cancel",id:"cancel",...e,ref:(0,i.Px)(N,t),type:"button",onClick:(0,d.Hj)(e.onClick,H),disabled:b}),[H,b]);return{isEditing:I,isDisabled:b,isValueEmpty:X,value:B,onEdit:z,onCancel:H,onSubmit:U,getPreviewProps:G,getInputProps:J,getTextareaProps:V,getEditButtonProps:Y,getSubmitButtonProps:Q,getCancelButtonProps:Z,htmlProps:E}}((0,b.MN)(e)),{isEditing:g,onSubmit:j,onCancel:v,onEdit:w}=h,C=(0,d.cx)("chakra-editable",e.className),E=(0,d.Jg)(e.children,{isEditing:g,onSubmit:j,onCancel:v,onEdit:w});return(0,y.jsx)(p.qC,{value:h,children:(0,y.jsx)(p.mp,{value:n,children:(0,y.jsx)(f.B.div,{ref:t,...x,className:C,children:E})})})});h.displayName="Editable"},78334:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var o=n(92961),r=n(5052),s=n(8749),l=n(64660),i=n(55685),a=n(6029),d=(0,s.R)(function(e,t){let{getInputProps:n}=(0,r.nE)(),s=(0,r.Gn)(),d=n(e,t),c=(0,i.cx)("chakra-editable__input",e.className);return(0,a.jsx)(l.B.input,{...d,__css:{outline:0,...o.s,...s.input},className:c})});d.displayName="EditableInput"},90218:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var o=n(2283),r=n(13808);let s=e=>(0,o.pN)(e)||(null==e?void 0:e.plan)===r.cw.FREE},92961:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var o={fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent"}},95669:(e,t,n)=>{e.exports=n(2483)},98965:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var o=n(6029);n(10548);var r=n(95669),s=n.n(r);let l=()=>window.location.origin,i=e=>{let{title:t,description:n="Create and publish conversational forms that collect 4 times more answers and feel native to your product",imagePreviewUrl:r="".concat(l(),"/images/og.png")}=e,i="".concat(t," | Typebot");return(0,o.jsxs)(s(),{children:[(0,o.jsx)("title",{children:i}),(0,o.jsx)("meta",{name:"title",content:t}),(0,o.jsx)("meta",{property:"og:title",content:t}),(0,o.jsx)("meta",{property:"twitter:title",content:t}),(0,o.jsx)("meta",{name:"description",content:n}),(0,o.jsx)("meta",{property:"twitter:description",content:n}),(0,o.jsx)("meta",{property:"og:description",content:n}),(0,o.jsx)("meta",{property:"og:image",content:r}),(0,o.jsx)("meta",{property:"twitter:image",content:r}),(0,o.jsx)("meta",{property:"og:type",content:"website"}),(0,o.jsx)("meta",{property:"twitter:card",content:"summary_large_image"})]})}}}]);